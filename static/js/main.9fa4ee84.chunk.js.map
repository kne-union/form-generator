{"version":3,"sources":["form-generator/ComponentList/style.module.scss","form-generator/OptionList/style.module.scss","form-generator/Layout/style.module.scss","form-generator/WorkArea/Others/Img/style.module.scss","form-generator/WorkArea/style.module.scss","form-generator/context.js","form-generator/Layout/index.js","form-generator/ComponentList/index.js","form-generator/preset.js","form-generator/OptionList/SchemaForm.js","form-generator/WorkArea/useFieldOperation.js","form-generator/OptionList/index.js","form-generator/WorkArea/ActiveObject.js","form-generator/WorkArea/Others/Img/index.js","form-generator/WorkArea/Others/Word/index.js","form-generator/WorkArea/index.js","form-generator/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","context","createContext","Provider","Consumer","useAppContext","useContext","Header","Layout","Footer","Sider","Content","PageLayout","left","right","children","activeId","className","style","theme","width","ComponentList","listRender","useCallback","config","map","title","con","chunk","filter","hidden","item","index","gutter","fieldName","span","draggable","onDragStart","e","dataTransfer","setData","direction","FieldMap","output","forEach","preset","fields","renderSchemaFormField","name","schema","type","Array","isArray","enum","length","label","options","str","value","defaultValue","properties","_get","Object","keys","useFieldOperation","setFieldList","fieldList","setActiveId","toSuper","find","id","parentId","toRoot","toFirstChild","up","oldList","list","slice","findIndex","targetIndex","findLastIndex","targetItem","down","splice","del","childrenList","indexOf","useMemo","TabPane","Tabs","useFormData","formRef","useRef","useEffect","sub","activeItem","schemaProperties","defaultProps","setTimeout","current","data","assign","emitter","addListener","newItem","props","newFieldList","remove","FieldOptions","ref","FormOptions","formConfig","Panel","fieldOperation","icon","EnterOutlined","rotate","onClick","ArrowUpOutlined","ArrowDownOutlined","DeleteOutlined","OptionList","isField","hasOwnProperty","defaultActiveKey","tab","forceRender","ActiveObject","open","outerRef","useState","targetList","setTargetList","handler","target","document","body","keyCode","preventDefault","addEventListener","removeEventListener","currentActive","computedTargetList","outer","outerRect","getBoundingClientRect","documentElement","scrollLeft","top","scrollTop","reverse","rect","querySelector","targetRect","height","Math","round","findTarget","childCheck","clickLeft","clientX","clickTop","clientY","hasChildNodes","onResize","classnames","onDragOver","onDrop","stopPropagation","getData","newId","uniqueId","oldData","Img","url","mod","alt","src","Word","renderFields","Form","SubmitButton","ResetButton","Col","Row","WorkArea","setOpen","renderChildren","Component","schemaProps","defaultFormFieldProps","classNameProps","outerClassName","childrenProps","onSubmit","console","log","readyCallbackRef","checked","onChange","FormGenerator","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9fa4ee84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"con\":\"style_con__1zOJ7\",\"con-title\":\"style_con-title__1tr5X\",\"con-item\":\"style_con-item__1LcNt\",\"con-content\":\"style_con-content__2IEkT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"con\":\"style_con__IybYg\",\"panel\":\"style_panel__qkWSo\",\"active-opt\":\"style_active-opt__14jev\",\"active-info\":\"style_active-info__2fs2B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__1xT37\",\"body\":\"style_body__3rkwV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"style_img__1dNhY\",\"is-block\":\"style_is-block__32WNN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"con\":\"style_con__2jgso\",\"header\":\"style_header__XznRB\",\"form-outer\":\"style_form-outer__34Hz0\",\"is-open\":\"style_is-open__1UWRg\",\"active-area\":\"style_active-area__22v39\",\"open\":\"style_open__2xzk4\",\"tip\":\"style_tip__29BXO\",\"edit\":\"style_edit__UzHg3\",\"opt-btn\":\"style_opt-btn__2LL2v\",\"active\":\"style_active__72prY\",\"form\":\"style_form__2Boti\"};","import {createContext, useContext} from 'react';\n\nconst context = createContext({});\n\nexport const {Consumer, Provider} = context;\n\nexport default context;\n\nexport const useAppContext = () => {\n    return useContext(context);\n};","import React from 'react';\nimport {Layout} from 'antd';\nimport style from './style.module.scss';\nimport {useAppContext} from \"../context\";\n\nconst {Header, Footer, Sider, Content} = Layout;\n\nconst PageLayout = ({left, right, children}) => {\n    const {activeId} = useAppContext();\n    return <Layout className={style['main']}>\n        <Header>Header</Header>\n        <Layout className={style['body']}>\n            <Sider theme=\"light\">{left}</Sider>\n            <Content>{children}</Content>\n            {activeId ? <Sider theme=\"light\" width={320}>{right}</Sider> : null}\n        </Layout>\n        <Footer>Footer</Footer>\n    </Layout>\n};\n\nexport default PageLayout;","import React, {useCallback} from 'react';\nimport {Space, Row, Col} from \"antd\";\nimport config from '../config.json';\nimport chunk from 'lodash/chunk';\nimport style from './style.module.scss';\n\nconst ComponentList = () => {\n    const listRender = useCallback(() => {\n        return config.map(({title, children}) => {\n            return <div className={style.con} key={title}>\n                <div className={style['con-title']}>{title}</div>\n                {chunk(children.filter(({hidden}) => hidden !== true), 2).map((item, index) => <Row\n                    className={style['con-item']} gutter={[10, 10]}\n                    key={index}>\n                    {item.map(({title, fieldName}) => <Col span={12} key={title}>\n                        <div className={style['con-content']} draggable=\"true\" onDragStart={(e) => {\n                            e.dataTransfer.setData('Text', fieldName);\n                        }}>{title}</div>\n                    </Col>)}\n                </Row>)}\n            </div>;\n        });\n    }, []);\n    return <Space direction=\"vertical\" style={{width: '100%'}}>\n        {listRender()}\n    </Space>\n};\n\nexport default ComponentList;\n\n\nexport const FieldMap = (() => {\n    const output = {};\n    config.forEach(({children}) => {\n        children.forEach((item) => {\n            output[item.fieldName] = item;\n        });\n    });\n\n    return output;\n})();\n\n\n","import {fields} from '@kne/react-form-antd';\n\nconst preset = {\n    fields\n};\n\nexport default preset;","import React from 'react';\nimport _get from 'lodash/get';\nimport {Select, Input, InputNumber, Switch} from '@kne/react-form-antd';\n\nexport const renderSchemaFormField = ({name, schema}) => {\n    switch (schema.type) {\n        case 'string':\n            if (Array.isArray(schema.enum) && schema.enum.length > 0) {\n                return <Select key={name} name={name} label={schema.title || name} options={schema.enum.map((str) => ({\n                    label: str, value: str\n                }))} defaultValue={schema['default']}/>\n            }\n            return <Input key={name} type=\"text\" name={name} label={schema.title || name}\n                          defaultValue={schema['default']}/>;\n        case 'boolean':\n            return <Switch key={name} name={name} label={schema.title || name} defaultValue={schema['default']}/>\n        case 'number':\n            return <InputNumber key={name} name={name} label={schema.title || name} defaultValue={schema['default']}/>\n        case 'object':\n            const properties = _get(schema, 'properties', {});\n            return Object.keys(properties).map((name) => {\n                return renderSchemaFormField({name, schema: properties[name]});\n            });\n        default:\n            return null;\n    }\n};","import {useCallback, useMemo} from 'react';\nimport {useAppContext} from \"../context\";\nimport findLastIndex from 'lodash/findLastIndex';\nimport findIndex from 'lodash/findIndex';\n\n\nconst useFieldOperation = () => {\n    const {setFieldList, fieldList, activeId, setActiveId} = useAppContext();\n    const toSuper = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setActiveId((activeId) => {\n            const item = fieldList.find((item) => item.id === activeId);\n            if (item && item.parentId) {\n                return item.parentId;\n            }\n            return activeId;\n        });\n    }, [activeId, setActiveId, fieldList]);\n    const toRoot = useCallback(() => {\n        setActiveId('root');\n    }, [setActiveId]);\n    const toFirstChild = useCallback(() => {\n        if (!activeId) {\n            return;\n        }\n        setActiveId((activeId) => {\n            const item = fieldList.find((item) => item.parentId === activeId);\n            if (item) {\n                return item.id;\n            }\n            return activeId;\n        });\n    }, [activeId, setActiveId, fieldList]);\n    const up = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setFieldList((oldList) => {\n            const list = oldList.slice(0);\n            const index = list.findIndex((item) => item.id === activeId);\n            const targetIndex = findLastIndex(list.slice(0, index), (item) => item.parentId === list[index].parentId);\n            if (index > -1 && targetIndex > -1) {\n                const targetItem = list[targetIndex];\n                list[targetIndex] = list[index];\n                list[index] = targetItem;\n            }\n\n            return list;\n        });\n    }, [activeId, setFieldList]);\n    const down = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setFieldList((oldList) => {\n            const list = oldList.slice(0);\n            const index = list.findIndex((item) => item.id === activeId);\n            const targetIndex = findIndex(list.slice(index + 1), (item) => item.parentId === list[index].parentId);\n            if (index > -1 && targetIndex > -1) {\n                const item = list[index];\n                list.splice(index, 1);\n                list.splice(index + 1, 0, item);\n            }\n\n            return list;\n        });\n    }, [activeId, setFieldList]);\n    const del = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setActiveId(null);\n\n        setFieldList((oldList) => {\n            const list = oldList.slice(0);\n            const index = list.findIndex((item) => item.id === activeId);\n            const childrenList = list.filter((item) => item.parentId === activeId);\n            if (index > -1) {\n                list.splice(index, 1);\n                childrenList.forEach((item) => {\n                    list.splice(list.indexOf(item), 1);\n                });\n            }\n            return list;\n        });\n    }, [activeId, setActiveId, setFieldList]);\n    return useMemo(() => ({\n        toRoot,\n        toSuper,\n        toFirstChild,\n        up,\n        down,\n        del\n    }), [toRoot, toSuper, toFirstChild, up, down, del]);\n};\n\nexport default useFieldOperation;","import React, {useRef, useEffect, useMemo} from 'react';\nimport {useAppContext} from '../context';\nimport _get from 'lodash/get';\nimport {FieldMap} from '../ComponentList';\nimport preset from '../preset';\nimport {renderSchemaFormField} from './SchemaForm';\nimport Form from '@kne/react-form-antd';\nimport {Tabs, Space, Button} from 'antd';\nimport useFieldOperation from '../WorkArea/useFieldOperation';\nimport {EnterOutlined, ArrowUpOutlined, ArrowDownOutlined, DeleteOutlined} from '@ant-design/icons';\nimport formConfig from '../form-config.json';\nimport style from './style.module.scss';\n\nconst fields = preset.fields;\nconst {TabPane} = Tabs;\n\nconst useFormData = (schema) => {\n    const {fieldList, setFieldList, activeId} = useAppContext();\n    const formRef = useRef(null);\n    useEffect(() => {\n        let sub;\n        if (activeId) {\n            const activeItem = fieldList.find((item) => item.id === activeId);\n            const schemaProperties = _get(schema, 'properties', {});\n            const defaultProps = {};\n            Object.keys(schemaProperties).forEach((name) => {\n                defaultProps[name] = schemaProperties[name]['default'];\n            });\n            setTimeout(() => {\n                if (activeItem) {\n                    formRef.current.data = Object.assign({}, defaultProps, {\n                        name: activeItem.id,\n                        label: FieldMap[activeItem.fieldName].title\n                    }, _get(activeItem, 'props'));\n                }\n            }, 0);\n            sub = formRef.current.emitter.addListener('form-field-validate-complete', ({name, value}) => {\n                setFieldList((fieldList) => {\n                    const activeItem = fieldList.find((item) => item.id === activeId);\n                    const index = fieldList.indexOf(activeItem);\n                    const newItem = Object.assign({}, activeItem, {\n                        props: Object.assign({}, activeItem.props, {[name]: value})\n                    });\n                    const newFieldList = fieldList.slice(0);\n                    newFieldList.splice(index, 1, newItem);\n                    setFieldList(newFieldList);\n                });\n            });\n        }\n        return () => {\n            sub && sub.remove();\n        };\n    }, [fieldList, schema, activeId, setFieldList]);\n    return formRef;\n};\n\nconst FieldOptions = () => {\n    const {fieldList, activeId} = useAppContext();\n    const schema = useMemo(() => {\n        const activeItem = fieldList.find((item) => item.id === activeId);\n        return _get(FieldMap, `[\"${_get(activeItem, 'fieldName')}\"].propsSchema`, {});\n    }, [fieldList, activeId]);\n    const formRef = useFormData(schema);\n    return <Form ref={formRef} type=\"inner\">\n        {renderSchemaFormField({schema})}\n    </Form>\n};\n\nconst FormOptions = () => {\n    const formRef = useFormData(formConfig);\n    return <Form ref={formRef} type=\"inner\">\n        {renderSchemaFormField({schema: formConfig})}\n    </Form>\n};\n\nconst Panel = () => {\n    const {fieldList, activeId} = useAppContext();\n    const item = useMemo(() => fieldList.find((item) => item.id === activeId), [fieldList, activeId]);\n    const fieldOperation = useFieldOperation();\n    if (!item) {\n        return null;\n    }\n    return <Space className={style['panel']} direction={'vertical'} style={{width: '100%'}}>\n        <Space className={style['active-info']}>\n            ID:{activeId} 类型:{FieldMap[item.fieldName].title} {item.parentId ? <>父级ID:{item.parentId}</> : null}\n        </Space>\n        <Space className={style['active-opt']}>\n            <span>操作:</span>\n            <span>\n                {item.id === 'root' ?\n                    <Button type=\"link\" icon={<EnterOutlined rotate={-90}/>}\n                            onClick={fieldOperation.toFirstChild}/> : <>\n                        <Button type=\"link\" icon={<EnterOutlined rotate={90}/>} onClick={fieldOperation.toSuper}/>\n                        <Button type=\"link\" icon={<EnterOutlined rotate={-90}/>} onClick={fieldOperation.toFirstChild}/>\n                        <Button type=\"link\" icon={<ArrowUpOutlined/>} onClick={fieldOperation.up}/>\n                        <Button type=\"link\" icon={<ArrowDownOutlined/>} onClick={fieldOperation.down}/>\n                        <Button type=\"link\" icon={<DeleteOutlined/>} onClick={fieldOperation.del}/>\n                    </>}\n            </span>\n        </Space>\n    </Space>\n};\n\nconst OptionList = () => {\n    const {activeId, fieldList} = useAppContext();\n    const isField = useMemo(() => {\n        const activeItem = fieldList.find((item) => item.id === activeId);\n        if (!activeItem) {\n            return false;\n        }\n        return fields.hasOwnProperty(activeItem.fieldName);\n    }, [activeId, fieldList]);\n    if (!activeId) {\n        return null;\n    }\n    return (\n        <Space direction={'vertical'} style={{width: '100%'}}>\n            <Panel/>\n            <Tabs className={style['con']} defaultActiveKey=\"1\">\n                <TabPane tab=\"组件属性\" key=\"1\" forceRender>\n                    <FieldOptions/>\n                </TabPane>\n                {isField ? <TabPane tab=\"表单属性\" key=\"2\" forceRender>\n                    <FormOptions/>\n                </TabPane> : null}\n                <TabPane tab=\"样式属性\" key=\"3\" forceRender>\n                    正在开发中\n                </TabPane>\n            </Tabs>\n        </Space>\n    );\n};\n\nexport default OptionList;","import React, {useState, useEffect, useCallback, useMemo, useRef} from 'react';\nimport {useAppContext} from \"../context\";\nimport useFieldOperation from \"./useFieldOperation\";\nimport classnames from \"classnames\";\nimport style from \"./style.module.scss\";\nimport {FieldMap} from \"../ComponentList\";\nimport uniqueId from \"lodash/uniqueId\";\nimport ResizeObserver from 'rc-resize-observer';\nimport {ArrowDownOutlined, ArrowUpOutlined, DeleteOutlined, EnterOutlined} from \"@ant-design/icons\";\n\nconst ActiveObject = ({open, children}) => {\n    const {fieldList, setFieldList, activeId, setActiveId} = useAppContext();\n    const outerRef = useRef(null);\n    const [targetList, setTargetList] = useState([]);\n    const fieldOperation = useFieldOperation();\n    useEffect(() => {\n        const handler = (e) => {\n            if (e.target !== document.body) {\n                return;\n            }\n            if (activeId) {\n                if (e.keyCode === 13) {\n                    e.preventDefault();\n                    fieldOperation.toRoot();\n                }\n                if (e.keyCode === 37) {\n                    e.preventDefault();\n                    fieldOperation.toSuper();\n                }\n                if (e.keyCode === 38) {\n                    e.preventDefault();\n                    fieldOperation.up();\n                }\n                if (e.keyCode === 39) {\n                    e.preventDefault();\n                    fieldOperation.toFirstChild();\n                }\n                if (e.keyCode === 40) {\n                    e.preventDefault();\n                    fieldOperation.down();\n                }\n\n                if (e.keyCode === 8) {\n                    e.preventDefault();\n                    fieldOperation.del();\n                }\n            }\n        };\n        document.addEventListener('keydown', handler);\n        return () => {\n            document.removeEventListener('keydown', handler);\n        };\n    }, [activeId, fieldOperation]);\n    const currentActive = useMemo(() => {\n        if (!activeId) {\n            return;\n        }\n        return targetList.find((item) => item.id === activeId);\n    }, [activeId, targetList]);\n    const computedTargetList = useCallback(() => {\n        const outer = outerRef.current;\n        const outerRect = outer.getBoundingClientRect();\n        const left = outerRect.left + document.documentElement.scrollLeft;\n        const top = outerRect.top + document.documentElement.scrollTop;\n        const output = fieldList.slice(0).reverse().map(({id, fieldName}) => {\n            const targetDom = outer.querySelector(`.id_${id}`);\n            const rect = targetDom.getBoundingClientRect();\n            const targetRect = {\n                left: rect.left + document.documentElement.scrollLeft,\n                top: rect.top + document.documentElement.scrollTop,\n                width: rect.width,\n                height: rect.height\n            };\n            return {\n                id,\n                fieldName,\n                title: FieldMap[fieldName].title,\n                top: Math.round(targetRect.top - top),\n                left: Math.round(targetRect.left - left),\n                width: Math.round(targetRect.width),\n                height: Math.round(targetRect.height),\n                outer: {left, top, width: outerRect.width, height: outerRect.height}\n            };\n        });\n        setTargetList(output);\n    }, [fieldList]);\n\n    const findTarget = useCallback((e, childCheck = false) => {\n        return targetList.find(({fieldName, left, top, width, height, outer}) => {\n            const clickLeft = e.clientX + document.documentElement.scrollLeft - outer.left,\n                clickTop = e.clientY + document.documentElement.scrollTop - outer.top;\n            return clickLeft > left && clickLeft < left + width && clickTop > top && clickTop < top + height && (!childCheck || FieldMap[fieldName].hasChildNodes);\n        });\n    }, [targetList]);\n    useEffect(() => {\n        computedTargetList();\n    }, [computedTargetList]);\n    return <ResizeObserver onResize={() => {\n        computedTargetList();\n    }}>\n        <div className={classnames(style['form-outer'], {\n            [style['is-open']]: open\n        })} ref={outerRef}>\n            {children}\n            {open ? <div className={style['active-area']} onClick={(e) => {\n                e.preventDefault();\n                const target = findTarget(e);\n                if (target) {\n                    if (target.id === activeId) {\n                        setActiveId(null);\n                        return;\n                    }\n                    setActiveId(target.id);\n                }\n            }} onDragOver={(e) => {\n                e.preventDefault();\n            }} onDrop={(e) => {\n                const target = findTarget(e, true);\n                if (target && FieldMap[target.fieldName].hasChildNodes === true) {\n                    e.stopPropagation();\n                    const fieldName = e.dataTransfer.getData(\"Text\");\n                    const newId = uniqueId(`${fieldName}_`);\n                    setFieldList((oldData) => [...oldData, {\n                        id: newId, parentId: target.id, fieldName, props: {}\n                    }]);\n                }\n            }}>\n                {activeId && currentActive ? <div className={classnames(style['active'])} style={{\n                    top: currentActive.top,\n                    left: currentActive.left,\n                    width: currentActive.width,\n                    height: currentActive.height\n                }}>\n            <span\n                className={style['tip']}>{currentActive.title}</span>\n                    <span className={style['edit']}>{(currentActive.id === 'root' ? <EnterOutlined rotate={-90} className={style['opt-btn']} onClick={(e) => {\n                        e.stopPropagation();\n                        fieldOperation.toFirstChild();\n                    }}/> : <>\n                        <EnterOutlined rotate={90} className={style['opt-btn']} onClick={(e) => {\n                            e.stopPropagation();\n                            fieldOperation.toSuper();\n                        }}/>\n                        <EnterOutlined rotate={-90} className={style['opt-btn']} onClick={(e) => {\n                            e.stopPropagation();\n                            fieldOperation.toFirstChild();\n                        }}/>\n                        <ArrowUpOutlined className={style['opt-btn']} onClick={(e) => {\n                            e.stopPropagation();\n                            fieldOperation.up();\n                        }}/>\n                        <ArrowDownOutlined className={style['opt-btn']} onClick={(e) => {\n                            e.stopPropagation();\n                            fieldOperation.down();\n                        }}/>\n                        <DeleteOutlined className={style['opt-btn']} onClick={(e) => {\n                            e.stopPropagation();\n                            fieldOperation.del();\n                        }}/>\n                    </>)}</span>\n                </div> : null}\n            </div> : null}\n        </div>\n    </ResizeObserver>\n};\n\nexport default ActiveObject;","import React from 'react';\nimport classnames from 'classnames';\nimport style from './style.module.scss';\n\nconst Img = ({className, url, mod, alt}) => {\n    return <img className={classnames(style['img'], className, {\n        [style['is-block']]: mod === 'block'\n    })} src={url} alt={alt}/>\n};\n\nexport default Img;","import React from 'react';\n\nconst Word = ({className, children}) => {\n    return <span className={className}>{children}</span>\n};\n\nexport default Word;","import React, {useEffect, useState, useCallback, useRef} from 'react';\nimport classnames from 'classnames';\nimport Form, {SubmitButton, ResetButton} from '@kne/react-form-antd';\nimport preset from '../preset';\nimport {Switch, Space, Col, Row} from 'antd';\nimport '@kne/react-form-antd/dist/style.scss';\nimport {FieldMap} from '../ComponentList';\nimport {useAppContext} from '../context';\nimport _get from 'lodash/get';\nimport style from './style.module.scss';\nimport ActiveObject from \"./ActiveObject\";\nimport Img from './Others/Img';\nimport Word from './Others/Word';\n\nconst fields = preset.fields;\nconst renderFields = Object.assign({}, {Img, Word, Form, SubmitButton, ResetButton, Col, Row}, fields);\n\nconst WorkArea = () => {\n    const {fieldList, setFieldList, setActiveId} = useAppContext();\n    const [open, setOpen] = useState(true);\n    const outerRef = useRef(null);\n    const renderChildren = useCallback(({parentId: target, fieldList: data, className}) => {\n        const list = data.filter(({parentId}) => parentId === target);\n        if (list.length === 0) {\n            return null;\n        }\n        return list.map(({id, fieldName, props}) => {\n            const Component = renderFields[fieldName];\n            const defaultProps = (() => {\n                const output = {};\n                const schemaProps = _get(FieldMap, `[${fieldName}][\"propsSchema\"]['properties']`, {});\n                Object.keys(schemaProps).forEach((name) => {\n                    const item = _get(schemaProps, name);\n                    if (item) {\n                        output[name] = item[\"default\"];\n                    }\n                });\n                return output;\n            })();\n\n            const defaultFormFieldProps = (() => {\n                if (!fields.hasOwnProperty(fieldName)) {\n                    return {};\n                }\n                return {\n                    name: id,\n                    label: FieldMap[fieldName].title\n                };\n            })();\n            const classNameProps = {\n                [FieldMap[fieldName].outerClassName || 'className']: classnames(className, `id_${id}`)\n            };\n\n            const children = renderChildren({\n                parentId: id,\n                fieldList: data\n            });\n\n            const childrenProps = children ? {children} : {};\n\n            return <Component\n                key={id} {...defaultProps} {...defaultFormFieldProps} {...props} {...classNameProps} {...childrenProps}/>\n        });\n    }, []);\n    useEffect(() => {\n        setFieldList([{\n            id: 'root',\n            fieldName: 'Form',\n            props: {\n                onSubmit: (data) => {\n                    console.log(data);\n                }\n            }\n        }]);\n    }, [setFieldList]);\n    const readyCallbackRef = useRef(null);\n    useEffect(() => {\n        readyCallbackRef.current && readyCallbackRef.current(fieldList, outerRef.current);\n    }, [fieldList]);\n    return <div className={style['con']}>\n        <div className={style['header']}>\n            <Space>\n                <span>预览模式:</span><Switch checked={!open} onChange={(value) => {\n                setActiveId(null);\n                setOpen(!value);\n            }}/>\n            </Space>\n        </div>\n        <ActiveObject open={open}>\n            {renderChildren({fieldList, className: style['form']})}\n        </ActiveObject>\n    </div>\n};\n\nexport default WorkArea;","import React, {useState} from 'react';\nimport Layout from './Layout';\nimport {Provider} from './context';\nimport ComponentList from './ComponentList';\nimport OptionList from './OptionList';\nimport WorkArea from './WorkArea';\n\nconst FormGenerator = () => {\n    const [fieldList, setFieldList] = useState([]);\n    const [activeId, setActiveId] = useState(null);\n    return <Provider value={{activeId, setActiveId, fieldList, setFieldList}}>\n        <Layout left={<ComponentList/>} right={<OptionList/>}>\n            <WorkArea/>\n        </Layout>\n    </Provider>\n};\n\nexport default FormGenerator;","import React from 'react';\nimport FormGenerator from './form-generator';\nimport 'antd/dist/antd.css';\n\nconst App = () => {\n    return <FormGenerator />\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}