(this["webpackJsonpform-generator"]=this["webpackJsonpform-generator"]||[]).push([[0],{194:function(e,t,n){e.exports={main:"style_main__1xT37",body:"style_body__3rkwV"}},199:function(e,t,n){e.exports={img:"style_img__TuJFl","is-block":"style_is-block__2lrAB"}},200:function(e,t,n){e.exports={container:"style_container__ufTtV","is-inline-block":"style_is-inline-block__1q5aY"}},201:function(e){e.exports=JSON.parse('{"type":"object","properties":{"name":{"title":"\u5b57\u6bb5\u540d","type":"string"},"label":{"title":"Label","type":"string"},"rule":{"title":"\u6821\u9a8c\u89c4\u5219","type":"string"},"important":{"title":"\u662f\u5426\u91cd\u8981\u5b57\u6bb5","type":"boolean"},"ignoreLabelWidth":{"title":"\u662f\u5426\u5ffd\u7565label\u5bbd\u5ea6\u8ba1\u7b97","type":"boolean","default":false},"labelHidden":{"title":"\u662f\u5426\u9690\u85cflabel\u663e\u793a","type":"boolean","default":false}}}')},259:function(e){e.exports=JSON.parse('[{"title":"\u5bb9\u5668\u7ec4\u4ef6","name":"container","children":[{"title":"\u666e\u901a\u5bb9\u5668","fieldName":"Container","hasChildNodes":true,"propsSchema":{"type":"object","properties":{"mode":{"title":"\u663e\u793a\u6a21\u5f0f","type":"string","enum":["inline-block","block"],"default":"block"}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"textAlign":{"title":"\u5b57\u4f53\u5bf9\u9f50","type":"string","enum":["left","right","center","justify","inherit"],"default":"inherit"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"background":{"title":"\u80cc\u666f","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}},{"title":"\u6805\u683c\u884c","fieldName":"Row","hasChildNodes":true,"propsSchema":{"type":"object","properties":{"gutter":{"title":"\u6805\u683c\u95f4\u9694","anyOf":[{"title":"\u6570\u5b57","type":"number"},{"title":"\u6570\u7ec4","type":"array","items":{"title":"[\u6c34\u5e73\u95f4\u8ddd, \u5782\u76f4\u95f4\u8ddd]","type":"string"}},{"title":"\u5bf9\u8c61","type":"object","properties":{"xs":{"type":"number"},"sm":{"type":"number"},"md":{"type":"number"}}}]},"align":{"title":"\u5782\u76f4\u5bf9\u9f50\u65b9\u5f0f","type":"string","enum":["top","middle","bottom"],"default":"top"},"justify":{"title":"\u6c34\u5e73\u6392\u5217\u65b9\u5f0f","type":"string","enum":["start","end","center","space-around","space-between"],"default":"start"},"wrap":{"title":"\u662f\u5426\u81ea\u52a8\u6362\u884c","type":"boolean","default":true}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"textAlign":{"title":"\u5b57\u4f53\u5bf9\u9f50","type":"string","enum":["left","right","center","justify","inherit"],"default":"inherit"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"background":{"title":"\u80cc\u666f","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}},{"title":"\u6805\u683c\u5217","fieldName":"Col","hasChildNodes":true,"propsSchema":{"type":"object","properties":{"span":{"title":"\u6805\u683c\u5360\u4f4d\u683c\u6570","type":"number"},"offset":{"title":"\u6805\u683c\u5de6\u4fa7\u7684\u95f4\u9694\u683c\u6570","type":"number","default":0},"order":{"title":"\u6805\u683c\u987a\u5e8f","type":"number","default":0},"pull":{"title":"\u6805\u683c\u5411\u5de6\u79fb\u52a8\u683c\u6570","type":"number","default":0},"push":{"title":"\u6805\u683c\u5411\u53f3\u79fb\u52a8\u683c\u6570","type":"number","default":0},"flex":{"title":"flex \u5e03\u5c40\u5c5e\u6027","type":"string"}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"textAlign":{"title":"\u5b57\u4f53\u5bf9\u9f50","type":"string","enum":["left","right","center","justify","inherit"],"default":"inherit"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"background":{"title":"\u80cc\u666f","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}}]},{"title":"\u8868\u5355\u7ec4\u4ef6","name":"field","children":[{"title":"\u8868\u5355","fieldName":"Form","hasChildNodes":true,"hidden":true,"propsSchema":{"type":"object","properties":{"size":{"title":"\u5927\u5c0f","type":"string","enum":["large","middle","small"],"default":"middle"},"type":{"title":"\u7c7b\u578b","type":"string","enum":["inline","default","inner"],"default":"default"},"debug":{"title":"\u8c03\u8bd5\u6a21\u5f0f","type":"boolean"}}}},{"title":"\u8f93\u5165\u6846","fieldName":"Input","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"type":{"title":"\u7c7b\u578b","type":"string","enum":["text","password"],"default":"text"},"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u586b\u5199"}}}},{"title":"\u6570\u5b57\u8f93\u5165\u6846","fieldName":"InputNumber","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u586b\u5199"},"max":{"title":"\u6700\u5927\u503c","type":"number"},"min":{"title":"\u6700\u5c0f\u503c","type":"number"},"step":{"title":"\u6bcf\u6b21\u6539\u53d8\u6b65\u6570","type":"number","default":1}}}},{"title":"\u6587\u672c\u6846","fieldName":"TextArea","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u586b\u5199"},"allowClear":{"title":"\u6e05\u9664\u6309\u94ae","type":"boolean","default":false},"autoSize":{"title":"\u81ea\u9002\u5e94\u9ad8\u5ea6","type":"boolean","default":false}}}},{"title":"\u4e0b\u62c9\u9009\u62e9\u6846","fieldName":"Select","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u9009\u62e9"},"options":{"type":"array","title":"\u9009\u9879","items":{"type":"object","properties":{"label":{"title":"\u540d\u79f0","type":"string"},"value":{"title":"\u503c","type":"string"}}},"default":[{"label":"\u9009\u9879\u4e00","value":"1"},{"label":"\u9009\u9879\u4e8c","value":"2"}]},"allowClear":{"title":"\u652f\u6301\u6e05\u9664","type":"boolean","default":false},"mode":{"title":"\u6a21\u5f0f\u4e3a\u591a\u9009\u6216\u6807\u7b7e","type":"string","enum":["multiple","tags"]},"autoClearSearchValue":{"title":"\u662f\u5426\u5728\u9009\u4e2d\u9879\u540e\u6e05\u7a7a\u641c\u7d22\u6846","type":"boolean","default":false},"bordered":{"title":"\u662f\u5426\u6709\u8fb9\u6846","type":"boolean","default":true},"listHeight":{"title":"\u5f39\u7a97\u6eda\u52a8\u9ad8\u5ea6","type":"number","default":256},"maxTagCount":{"title":"\u6700\u591a\u663e\u793a\u591a\u5c11\u4e2a tag","type":"number"},"maxTagTextLength":{"title":"\u6700\u5927\u663e\u793a\u7684 tag \u6587\u672c\u957f\u5ea6","type":"number"}}}},{"title":"\u5355\u9009","fieldName":"RadioGroup","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"options":{"title":"\u9009\u9879","type":"array","items":{"type":"object","properties":{"label":{"title":"\u540d\u79f0","type":"string"},"value":{"title":"\u503c","type":"string"}}},"default":[{"label":"\u9009\u9879\u4e00","value":"1"},{"label":"\u9009\u9879\u4e8c","value":"2"}]},"optionType":{"title":"Radio\u7c7b\u578b","type":"string","enum":["default","button"],"default":"default"},"buttonStyle":{"title":"\u6309\u94ae\u72b6\u6001\u7684\u98ce\u683c\u6837\u5f0f","type":"string","enum":["outline","solid"],"default":"outline"}}}},{"title":"\u591a\u9009","fieldName":"CheckboxGroup","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"options":{"title":"\u9009\u9879","type":"array","items":{"type":"object","properties":{"label":{"title":"\u540d\u79f0","type":"string"},"value":{"title":"\u503c","type":"string"}}},"default":[{"label":"\u9009\u9879\u4e00","value":"1"},{"label":"\u9009\u9879\u4e8c","value":"2"}]}}}},{"title":"\u5f00\u5173","fieldName":"Switch","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"checkedChildren":{"title":"\u9009\u4e2d\u65f6\u7684\u5185\u5bb9","type":"string"},"unCheckedChildren":{"title":"\u975e\u9009\u4e2d\u65f6\u7684\u5185\u5bb9","type":"string"}}}},{"title":"\u65e5\u671f","fieldName":"DatePicker","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u9009\u62e9"},"picker":{"title":"\u9009\u62e9\u5668\u7c7b\u578b","type":"string","enum":["date","week","month","quarter","year"],"default":"date"},"format":{"title":"\u65e5\u671f\u683c\u5f0f","type":"string","default":"YYYY-MM-DD"},"showTime":{"title":"\u589e\u52a0\u65f6\u95f4\u9009\u62e9\u529f\u80fd","type":"boolean"},"bordered":{"title":"\u5426\u6709\u8fb9\u6846","type":"boolean","default":true},"allowClear":{"title":"\u662f\u5426\u663e\u793a\u6e05\u9664\u6309\u94ae","type":"boolean","default":true},"showNow":{"title":"\u662f\u5426\u663e\u793a<\u6b64\u523b>\u6309\u94ae","type":"boolean","default":true},"showToday":{"title":"\u662f\u5426\u663e\u793a<\u4eca\u5929>\u6309\u94ae","type":"boolean","default":true}}}},{"title":"\u63d0\u4ea4\u6309\u94ae","fieldName":"SubmitButton","propsSchema":{"type":"object","properties":{"children":{"title":"\u6587\u5b57","type":"string","default":"\u63d0\u4ea4"},"type":{"title":"\u7c7b\u578b","type":"string","enum":["primary","ghost","dashed","link","text","default"],"default":"primary"},"shape":{"title":"\u5f62\u72b6","type":"string","enum":["circle","round"]},"block":{"title":"\u662f\u5426\u5757\u7ea7","type":"boolean","default":false}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"}}}},{"title":"\u91cd\u7f6e\u6309\u94ae","fieldName":"ResetButton","propsSchema":{"type":"object","properties":{"children":{"title":"\u6587\u5b57","type":"string","default":"\u91cd\u7f6e"},"type":{"title":"\u7c7b\u578b","type":"string","enum":["primary","ghost","dashed","link","text","default"],"default":"default"},"shape":{"title":"\u5f62\u72b6","type":"string","enum":["circle","round"]},"block":{"title":"\u662f\u5426\u5757\u7ea7","type":"boolean","default":false}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"}}}}]},{"title":"\u4fee\u9970\u7ec4\u4ef6","name":"decorator","children":[{"title":"\u56fe\u7247","fieldName":"Img","propsSchema":{"type":"object","properties":{"url":{"title":"\u56fe\u7247\u5730\u5740","type":"string","default":"https://static.knxgalaxy.com/upload_assets/app-manager/6ee5f73171768d4a15eec479ab66d013.png"},"alt":{"title":"\u56fe\u7247\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8fd9\u662f\u4e00\u5f20\u56fe\u7247"},"mode":{"title":"\u663e\u793a\u6a21\u5f0f","type":"string","enum":["inline-block","block"],"default":"inline-block"}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}},{"title":"\u6587\u5b57","fieldName":"Word","propsSchema":{"type":"object","properties":{"children":{"title":"\u5185\u5bb9","type":"string","default":"\u8bf7\u4fee\u6539\u6587\u5b57"}}},"stylePropsSchema":{"type":"object","properties":{"fontSize":{"title":"\u5b57\u4f53\u5927\u5c0f","type":"string","default":""},"fontFamily":{"title":"\u5b57\u4f53","type":"string","default":""},"fontWeight":{"title":"\u5b57\u91cd","type":"string","default":""},"color":{"title":"\u989c\u8272","type":"string","default":""}}}}]}]')},283:function(e){e.exports=JSON.parse('[{"title":"\u63d0\u4ea4\u533a\u57df","type":"Array","children":[{"id":"Row_123","parentId":"root","fieldName":"Row","depth":1,"props":{"gutter_type":"array","gutter":["10","0"]},"styleProps":{}},{"id":"Col_124","parentId":"Row_123","fieldName":"Col","depth":2,"props":{"span":12},"styleProps":{}},{"id":"Col_125","parentId":"Row_123","fieldName":"Col","depth":2,"props":{"span":12},"styleProps":{}},{"id":"Container_156","parentId":"Col_124","fieldName":"Container","depth":3,"styleProps":{"textAlign":"right"}},{"id":"Container_157","parentId":"Col_125","fieldName":"Container","depth":3,"styleProps":{}},{"id":"SubmitButton_163","parentId":"Container_156","fieldName":"SubmitButton","depth":4,"styleProps":{}},{"id":"ResetButton_164","parentId":"Container_157","fieldName":"ResetButton","depth":4,"styleProps":{}}]}]')},286:function(e){e.exports=JSON.parse('{"type":"object","properties":{"className":{"title":"\u7c7b\u540d","type":"string","default":""}}}')},310:function(e,t,n){},46:function(e,t,n){e.exports={con:"style_con__2jgso",header:"style_header__XznRB","form-outer":"style_form-outer__34Hz0","is-open":"style_is-open__1UWRg","active-area":"style_active-area__22v39",open:"style_open__2xzk4",tip:"style_tip__29BXO",edit:"style_edit__UzHg3","opt-btn":"style_opt-btn__2LL2v",active:"style_active__72prY",form:"style_form__2Boti"}},525:function(e,t,n){"use strict";n.r(t);var i=n(7),a=n(0),r=n(28),l=n.n(r),o=(n(310),n(42)),c=n(529),s=n(194),u=n.n(s),d=Object(a.createContext)({}),p=(d.Consumer,d.Provider),f=function(){return Object(a.useContext)(d)},m=c.a.Header,b=c.a.Footer,j=c.a.Sider,h=c.a.Content,y=function(e){var t=e.left,n=e.right,a=e.children,r=f().activeId;return Object(i.jsxs)(c.a,{className:u.a.main,children:[Object(i.jsx)(m,{children:"Header"}),Object(i.jsxs)(c.a,{className:u.a.body,children:[Object(i.jsx)(j,{theme:"light",children:t}),Object(i.jsx)(h,{children:a}),r?Object(i.jsx)(j,{theme:"light",width:320,children:n}):null]}),Object(i.jsx)(b,{children:"Footer"})]})},g=n(70),O=n(530),x=n(531),v=n(300),N=n(533),C=n(53),_=n(37),k=n(12),S=n.n(k),I=n(258),w=n.n(I),P=n(259),R=n(81),L=n.n(R),E=n(34),D=(n(512),{componentsConfig:P,fields:E.j,rules:{},field:{}}),F=function(){return D},T=L()((function(e){var t={};return e.forEach((function(e){e.children.forEach((function(e){t[e.fieldName]=e}))})),t})),A=function(){return T(F().componentsConfig)},z=n(2),J=n.n(z),B=n(199),M=n.n(B),G=function(e){var t=e.className,n=e.url,a=e.mod,r=e.alt;return Object(i.jsx)("img",{className:J()(M.a.img,"form-render_img",t,Object(_.a)({},M.a["is-block"],"block"===a)),src:n,alt:r})},V=n(75),W=function(e){var t=e.className,n=e.children,a=Object(V.a)(e,["className","children"]);return Object(i.jsx)("span",Object(C.a)(Object(C.a)({},a),{},{className:J()(t,"form-render_word"),children:n}))},Y=n(200),H=n.n(Y),X=function(e){var t=e.children,n=e.mode,a=e.className,r=Object(V.a)(e,["children","mode","className"]);return Object(i.jsx)("div",Object(C.a)(Object(C.a)({className:J()(a,"form-render_container",H.a.container,Object(_.a)({},H.a["is-inline-block"],"inline-block"===n))},r),{},{children:t}))},K=F().fields,q=Object.assign({},{Img:G,Word:W,Container:X,Form:E.i,SubmitButton:E.f,ResetButton:E.d,Col:x.a,Row:O.a},K),U=A(),Q=function(e){var t=Object(a.useCallback)((function(e){var n=e.parentId,a=e.fieldList,r=e.className,l=a.filter((function(e){return e.parentId===n}));return 0===l.length?null:l.map((function(e){var n=e.id,l=e.fieldName,o=e.styleProps,c=e.props,s=q[l],u=U[l],d=function(){var e={},t=S()(u,"['propsSchema']['properties']",{});return Object.keys(t).forEach((function(n){var i=S()(t,n);i&&(e[n]=i.default)})),e}(),p=K.hasOwnProperty(l)?{name:n,label:u.title}:{},f=Object(_.a)({},u.outerClassName||"className",J()(r,o.className,"id_".concat(n))),m=function(){var e=w()(o,["className"]);return Object.keys(e).length>0?{style:e}:{}}(),b=t({parentId:n,fieldList:a}),j=b?{children:b}:{},h=Object.assign({},d,p,c,f,m,j);return Object(i.jsx)(s,Object(C.a)({},h),n)}))}),[]);return t(e)},Z=n(282),$=n.n(Z),ee=n(283),te=n(89),ne=n.n(te),ie=F().componentsConfig,ae=function(){var e=f(),t=e.compositeItems,n=e.saveCompositeItems,r=e.delCompositeItem,l=Object(a.useCallback)((function(){return[].concat(Object(g.a)(ie),[{title:"\u590d\u5408\u7ec4\u4ef6",children:ee.concat(t.map((function(e){return Object.assign({},e,{type:"Array",isCustom:!0})})))}]).map((function(e){var t=e.title,n=e.children;return Object(i.jsxs)("div",{className:ne.a.con,children:[Object(i.jsx)("div",{className:ne.a["con-title"],children:t}),$()(n.filter((function(e){return!0!==e.hidden})),2).map((function(e,t){return Object(i.jsx)(O.a,{className:ne.a["con-item"],gutter:[10,10],children:e.map((function(e){var t=e.title,n=e.type,a=void 0===n?"String":n,l=e.children,o=e.fieldName,c=e.isCustom;return Object(i.jsx)(x.a,{span:12,children:Object(i.jsxs)("div",{className:ne.a["con-content"],draggable:"true",onDragStart:function(e){e.dataTransfer.setData("Text",JSON.stringify({type:a,data:"String"===a?o:l}))},children:[Object(i.jsx)("div",{className:ne.a["con-content-inner"],children:t}),c?Object(i.jsx)(N.a,{className:ne.a["con-close"],onClick:function(){r(e)}}):null]})},t)}))},t)}))]},t)}))}),[t,n]);return Object(i.jsx)(v.b,{direction:"vertical",style:{width:"100%"},children:l()})},re=n(50),le=n(40),oe=n(532),ce=n(59),se=n.n(ce),ue=le.a.GroupList,de=le.a.useGroup,pe=function(){var e=de().onRemove;return Object(i.jsx)(re.a,{shape:"round",size:"small",onClick:e,children:"\u5220\u9664"})},fe=function(e){var t=e.name,n=e.schema,r=S()(n,"items",{}),l=Object(a.useRef)(null),o=Object(a.useMemo)((function(){return je({name:t,schema:r})}),[r,t]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(O.a,{justify:"space-between",children:[Object(i.jsx)(x.a,{children:Object(i.jsx)("span",{className:se.a["list-title"],children:n.title})}),Object(i.jsx)(x.a,{children:Object(i.jsx)(re.a,{type:"primary",shape:"round",size:"small",icon:Object(i.jsx)(oe.a,{}),onClick:function(){l.current.onAdd()}})})]}),Object(i.jsx)("div",{className:se.a["list-con"],children:Object(i.jsx)(ue,{ref:l,name:t,groupKey:function(e,t){return t},children:Object(i.jsxs)(v.b,{className:se.a["list-item"],children:[o,Object(i.jsx)(pe,{})]})})})]})},me=function(e){var t=e.name,n=e.schema,r=Object(le.f)(),l=S()(r,'["'.concat(t,'_type"].field.value')),o=n.find((function(e){return e.type===l}));return Object(a.useMemo)((function(){return l&&o?Object(i.jsx)("div",{className:se.a["list-con"],children:je({name:t,schema:o})}):null}),[t,l,o])},be=function(e){var t=e.name,n=e.schema,a=n.anyOf,r=a.map((function(e){return{label:e.title,value:e.type}}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(O.a,{className:se.a["anyof-title"],justify:"space-between",children:[Object(i.jsx)(x.a,{children:Object(i.jsx)("span",{className:se.a["list-title"],children:n.title||t})}),Object(i.jsx)(x.a,{children:Object(i.jsx)(E.e,{size:"small",placeholder:"\u8bf7\u9009\u62e9\u7c7b\u578b",name:"".concat(t,"_type"),options:r})})]}),Object(i.jsx)(me,{name:t,schema:a})]})},je=function e(t){var n=t.name,a=t.schema;switch(a.type){case"string":return Array.isArray(a.enum)&&a.enum.length>0?Object(i.jsx)(E.e,{size:"small",name:n,label:a.title||n,options:a.enum.map((function(e){return{label:e,value:e}})),defaultValue:a.default},n):Object(i.jsx)(E.b,{size:"small",type:"text",name:n,label:a.title||n,defaultValue:a.default},n);case"boolean":return Object(i.jsx)(E.g,{size:"small",name:n,label:a.title||n,defaultValue:a.default},n);case"number":case"integer":return Object(i.jsx)(E.c,{size:"small",name:n,label:a.title||n,defaultValue:a.default},n);case"object":var r=S()(a,"properties",{});return Object.keys(r).map((function(t){return e({name:t,schema:r[t]})}));case"array":return Object(i.jsx)(fe,{name:n,schema:a},n);default:return a.anyOf?Object(i.jsx)(be,{name:n,schema:a},n):null}},he=n(528),ye=n(105),ge=n(284),Oe=n.n(ge),xe=n(285),ve=n.n(xe),Ne=function(){var e=f(),t=e.setFieldList,n=e.fieldList,r=e.activeId,l=e.setActiveId,o=e.saveCompositeItems,c=e.compositeItems,s=Object(a.useCallback)((function(){r&&"root"!==r&&l((function(e){var t=n.find((function(t){return t.id===e}));return t&&t.parentId?t.parentId:e}))}),[r,l,n]),u=Object(a.useCallback)((function(){l("root")}),[l]),d=Object(a.useCallback)((function(){r&&l((function(e){var t=n.find((function(t){return t.parentId===e}));return t?t.id:e}))}),[r,l,n]),p=Object(a.useCallback)((function(){r&&"root"!==r&&t((function(e){var t=e.slice(0),n=t.findIndex((function(e){return e.id===r})),i=Oe()(t.slice(0,n),(function(e){return e.parentId===t[n].parentId}));if(n>-1&&i>-1){var a=t[i];t[i]=t[n],t[n]=a}return t}))}),[r,t]),m=Object(a.useCallback)((function(){r&&"root"!==r&&t((function(e){var t=e.slice(0),n=t.findIndex((function(e){return e.id===r})),i=ve()(t.slice(n+1),(function(e){return e.parentId===t[n].parentId}));if(n>-1&&i>-1){var a=t[n];t.splice(n,1),t.splice(n+1,0,a)}return t}))}),[r,t]),b=Object(a.useCallback)((function(){r&&"root"!==r&&(l(null),t((function(e){var t=e.slice(0),n=t.findIndex((function(e){return e.id===r}));return n>-1&&(t.splice(n,1),function e(n){t.filter((function(e){return e.parentId===n})).forEach((function(n){t.splice(t.indexOf(n),1),e(n.id)}))}(r)),t})))}),[r,l,t]),j=Object(a.useCallback)((function(){var e=E.a.modal({title:"\u8bf7\u8f93\u5165\u7ec4\u4ef6\u540d",content:Object(i.jsx)(E.b,{name:"fieldName",label:"\u7ec4\u4ef6\u540d",rule:"REQ LEN-0-10 NO_REACT"}),formProps:{rules:{NO_REACT:function(e){return c.find((function(t){return t.title===e}))?{result:!1,msg:"%s\u4e0d\u80fd\u8ddf\u5df2\u6709\u7ec4\u4ef6\u91cd\u590d"}:{result:!0}}},onSubmit:function(t){var i=[];!function e(t,a){var r=n.find((function(e){return e.id===t})),l=n.filter((function(e){return e.parentId===t}));i.push(Object.assign({},r,{depth:a})),l.length>0&&l.forEach((function(t){e(t.id,a+1)}))}(r,1);var a=i.findIndex((function(e){return e.id===r}));i[a].parentId="root",o({title:t.fieldName,children:i}),e.destroy()}}})}),[r,n,c,o]);return Object(a.useMemo)((function(){return{toRoot:u,toSuper:s,toFirstChild:d,up:p,down:m,del:b,save:j}}),[u,s,d,p,m,b,j])},Ce=n(534),_e=n(535),ke=n(536),Se=n(537),Ie=n(538),we=n(201),Pe=n(286),Re=F().fields,Le=A(),Ee=he.a.TabPane,De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"props",n=f(),i=n.fieldList,r=n.setFieldList,l=n.activeId,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var n,a;if(l){var c=i.find((function(e){return e.id===l})),s=S()(e,"properties",{}),u={};Object.keys(s).forEach((function(e){u[e]=s[e].default})),c&&o.current&&(o.current.data=Object.assign({},u,{name:c.id,label:Le[c.fieldName].title},o.current.data,S()(c,t))),n=o.current.emitter.addListener("form-field-validate-complete",(function(e){var n=e.name,i=e.index,a=e.value;r((function(e){var c=e.find((function(e){return e.id===l})),s=e.indexOf(c),u=Object.assign({},c,Object(_.a)({},t,Object.assign({},c[t],function(){var e=S()(o.current.formState,"".concat(n,".data"),{})[i];if(e.groupName&&n===e.groupName){var t=S()(o.current.data,"".concat(e.groupName),[]).slice(0);return t[e.index]=a,Object(_.a)({},e.groupName,t)}if(e.groupName){var r=S()(o.current.data,"".concat(e.groupName),[]).slice(0);return r[e.index]=Object.assign({},r[e.index],Object(_.a)({},n,a)),Object(_.a)({},e.groupName,r)}return Object(_.a)({},n,a)}()))),d=e.slice(0);d.splice(s,1,u),r(d)}))})),a=o.current.emitter.addListener("form-group-remove",(function(e){var n=e.index,i=e.name;r((function(e){var a=e.find((function(e){return e.id===l})),c=e.indexOf(a),s=Object.assign({},a,Object(_.a)({},t,Object.assign({},a[t],function(){var e=(S()(o.current.data,"".concat(i))||[]).slice(0);return e.splice(n,1),Object(_.a)({},i,e)}()))),u=e.slice(0);u.splice(c,1,s),r(u)}))}))}return function(){n&&n.remove(),a&&a.remove()}}),[i,e,t,l,r]),o},Fe=function(){var e=f(),t=e.fieldList,n=e.activeId,r=Object(a.useMemo)((function(){var e=t.find((function(e){return e.id===n}));return S()(Le,'["'.concat(S()(e,"fieldName"),'"].propsSchema'),{})}),[t,n]),l=De(r);return Object(i.jsx)(E.i,{ref:l,type:"inner",size:"small",children:0===Object.keys(S()(r,"properties",{})).length?Object(i.jsx)(ye.a,{description:""}):je({schema:r})})},Te=function(){var e=De(we);return Object(i.jsx)(E.i,{ref:e,type:"inner",size:"small",children:je({schema:we})})},Ae=function(){var e=f(),t=e.fieldList,n=e.activeId,r=Object(a.useMemo)((function(){var e=t.find((function(e){return e.id===n}));return Object.assign({},Pe,S()(Le,'["'.concat(S()(e,"fieldName"),'"].stylePropsSchema'),{}))}),[t,n]),l=De(r,"styleProps");return Object(i.jsx)(E.i,{ref:l,type:"inner",size:"small",children:je({schema:r})})},ze=function(){var e=f(),t=e.fieldList,n=e.activeId,r=Object(a.useMemo)((function(){return t.find((function(e){return e.id===n}))}),[t,n]),l=Ne();return r?Object(i.jsxs)(v.b,{className:se.a.panel,direction:"vertical",style:{width:"100%"},children:[Object(i.jsxs)(v.b,{className:se.a["active-info"],children:["ID:",n," \u7c7b\u578b:",Le[r.fieldName].title," ",r.parentId?Object(i.jsxs)(i.Fragment,{children:["\u7236\u7ea7ID:",r.parentId]}):null]}),Object(i.jsxs)(v.b,{className:se.a["active-opt"],children:[Object(i.jsx)("span",{children:"\u64cd\u4f5c:"}),Object(i.jsx)("span",{children:"root"===r.id?Object(i.jsx)(re.a,{type:"link",icon:Object(i.jsx)(Ce.a,{rotate:-90}),onClick:l.toFirstChild}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(re.a,{type:"link",icon:Object(i.jsx)(Ce.a,{rotate:90}),onClick:l.toSuper}),Object(i.jsx)(re.a,{type:"link",icon:Object(i.jsx)(Ce.a,{rotate:-90}),onClick:l.toFirstChild}),Object(i.jsx)(re.a,{type:"link",icon:Object(i.jsx)(_e.a,{}),onClick:l.up}),Object(i.jsx)(re.a,{type:"link",icon:Object(i.jsx)(ke.a,{}),onClick:l.down}),Object(i.jsx)(re.a,{type:"link",icon:Object(i.jsx)(Se.a,{}),onClick:l.del}),Object(i.jsx)(re.a,{type:"link",icon:Object(i.jsx)(Ie.a,{}),onClick:l.save})]})})]})]}):null},Je=function(){var e=f(),t=e.activeId,n=e.fieldList,r=Object(a.useMemo)((function(){var e=n.find((function(e){return e.id===t}));return!!e&&Re.hasOwnProperty(e.fieldName)}),[t,n]);return t?Object(i.jsxs)(v.b,{direction:"vertical",style:{width:"100%"},children:[Object(i.jsx)(ze,{}),Object(i.jsxs)(he.a,{className:se.a.con,defaultActiveKey:"1",children:[Object(i.jsx)(Ee,{tab:"\u7ec4\u4ef6\u5c5e\u6027",forceRender:!0,children:Object(i.jsx)(Fe,{})},"1"),r?Object(i.jsx)(Ee,{tab:"\u8868\u5355\u5c5e\u6027",forceRender:!0,children:Object(i.jsx)(Te,{})},"2"):null,Object(i.jsx)(Ee,{tab:"\u6837\u5f0f\u5c5e\u6027",forceRender:!0,children:Object(i.jsx)(Ae,{})},"3")]})]}):null},Be=n(204),Me=n(205),Ge=n(299),Ve=n(46),We=n.n(Ve),Ye=n(58),He=n.n(Ye),Xe=n(66),Ke=A(),qe=function(e){var t=e.open,n=e.children,r=f(),l=r.fieldList,c=r.setFieldList,s=r.activeId,u=r.setActiveId,d=Object(a.useRef)(null),p=Object(a.useState)([]),m=Object(o.a)(p,2),b=m[0],j=m[1],h=Ne();Object(a.useEffect)((function(){var e=function(e){e.target===document.body&&s&&(13===e.keyCode&&(e.preventDefault(),h.toRoot()),37===e.keyCode&&(e.preventDefault(),h.toSuper()),38===e.keyCode&&(e.preventDefault(),h.up()),39===e.keyCode&&(e.preventDefault(),h.toFirstChild()),40===e.keyCode&&(e.preventDefault(),h.down()),8===e.keyCode&&(e.preventDefault(),h.del()))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[s,h]);var y=Object(a.useMemo)((function(){if(s)return b.find((function(e){return e.id===s}))}),[s,b]),O=Object(a.useCallback)((function(){var e=d.current,t=e.getBoundingClientRect(),n=t.left+document.documentElement.scrollLeft,i=t.top+document.documentElement.scrollTop,a=l.slice(0).sort((function(e,t){return t.depth-e.depth})).map((function(a){var r=a.id,l=a.depth,o=a.fieldName,c=e.querySelector(".id_".concat(r)).getBoundingClientRect(),s={left:c.left+document.documentElement.scrollLeft,top:c.top+document.documentElement.scrollTop,width:c.width,height:c.height};return{id:r,fieldName:o,title:Ke[o].title,depth:l,top:Math.round(s.top-i),left:Math.round(s.left-n),width:Math.round(s.width),height:Math.round(s.height),outer:{left:n,top:i,width:t.width,height:t.height}}}));j(a)}),[l]),x=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b.find((function(n){var i=n.fieldName,a=n.left,r=n.top,l=n.width,o=n.height,c=n.outer,s=e.clientX+document.documentElement.scrollLeft-c.left,u=e.clientY+document.documentElement.scrollTop-c.top;return s>a&&s<a+l&&u>r&&u<r+o&&(!t||Ke[i].hasChildNodes)}))}),[b]);return Object(a.useEffect)((function(){O()}),[O]),Object(i.jsx)(Xe.a,{onResize:function(){O()},children:Object(i.jsxs)("div",{className:J()(We.a["form-outer"],Object(_.a)({},We.a["is-open"],t)),ref:d,children:[n,t?Object(i.jsx)("div",{className:We.a["active-area"],onClick:function(e){e.preventDefault();var t=x(e);if(t){if(t.id===s)return void u(null);u(t.id)}},onDragOver:function(e){e.preventDefault()},onDrop:function(e){var t=x(e,!0);if(t&&!0===Ke[t.fieldName].hasChildNodes){e.stopPropagation();var n=JSON.parse(e.dataTransfer.getData("Text"));if("String"===n.type){var i=n.data,a=He()("".concat(i,"_"));c((function(e){return[].concat(Object(g.a)(e),[{id:a,parentId:t.id,fieldName:i,depth:t.depth+1,props:(n=i,F().fields[n]?{label:Ke[i].title,name:a}:{}),styleProps:{}}]);var n}))}else{var r={};n.data.forEach((function(e){r[e.id]=He()("".concat(e.fieldName,"_"))})),c((function(e){return[].concat(Object(g.a)(e),Object(g.a)(n.data.map((function(e){return"root"===e.parentId?(e.parentId=t.id,e.depth=t.depth+1):(e.parentId=r[e.parentId],e.depth=e.depth+t.depth),e.id=r[e.id],e}))))}))}}},children:s&&y?Object(i.jsxs)("div",{className:J()(We.a.active),style:{top:y.top,left:y.left,width:y.width,height:y.height},children:[Object(i.jsx)("span",{className:We.a.tip,children:y.title}),Object(i.jsx)("span",{className:We.a.edit,children:"root"===y.id?Object(i.jsx)(Ce.a,{rotate:-90,className:We.a["opt-btn"],onClick:function(e){e.stopPropagation(),h.toFirstChild()}}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ce.a,{rotate:90,className:We.a["opt-btn"],onClick:function(e){e.stopPropagation(),h.toSuper()}}),Object(i.jsx)(Ce.a,{rotate:-90,className:We.a["opt-btn"],onClick:function(e){e.stopPropagation(),h.toFirstChild()}}),Object(i.jsx)(_e.a,{className:We.a["opt-btn"],onClick:function(e){e.stopPropagation(),h.up()}}),Object(i.jsx)(ke.a,{className:We.a["opt-btn"],onClick:function(e){e.stopPropagation(),h.down()}}),Object(i.jsx)(Se.a,{className:We.a["opt-btn"],onClick:function(e){e.stopPropagation(),h.del()}}),Object(i.jsx)(Ie.a,{className:We.a["opt-btn"],onClick:function(e){e.stopPropagation(),h.save()}})]})})]}):null}):null]})})},Ue=function(){var e=f(),t=e.fieldList,n=e.setFieldList,r=e.setActiveId,l=e.exportData,c=e.includeData,s=Object(a.useState)(!0),u=Object(o.a)(s,2),d=u[0],p=u[1];return Object(a.useEffect)((function(){n([{id:"root",fieldName:"Form",depth:0,props:{onSubmit:function(e){console.log(e)}},styleProps:{}}])}),[n]),Object(i.jsxs)("div",{className:We.a.con,children:[Object(i.jsx)("div",{className:We.a.header,children:Object(i.jsxs)(O.a,{justify:"space-between",children:[Object(i.jsx)(x.a,{children:Object(i.jsxs)(v.b,{children:[Object(i.jsx)("span",{children:"\u9884\u89c8\u6a21\u5f0f:"}),Object(i.jsx)(Ge.a,{checked:!d,onChange:function(e){r(null),p(!e)}})]})}),Object(i.jsx)(x.a,{children:Object(i.jsxs)(v.b,{children:[Object(i.jsx)(re.a,{shape:"round",type:"primary",size:"small",onClick:function(){c().then((function(e){e&&e.length>0&&n(e)}))},children:"\u5bfc\u5165"}),Object(i.jsx)(re.a,{shape:"round",size:"small",onClick:function(){l(JSON.stringify(t))},children:"\u5bfc\u51fa"})]})})]})}),Object(i.jsx)(qe,{open:d,children:Object(i.jsx)(Q,{fieldList:t,className:We.a.form})})]})},Qe=function(e){var t=e.compositeItems,n=e.exportData,r=e.includeData,l=e.saveCompositeItems,c=e.delCompositeItem,s=Object(a.useState)([]),u=Object(o.a)(s,2),d=u[0],f=u[1],m=Object(a.useState)(null),b=Object(o.a)(m,2),j=b[0],h=b[1];return Object(i.jsx)(p,{value:{activeId:j,setActiveId:h,fieldList:d,setFieldList:f,exportData:n,includeData:r,compositeItems:t,saveCompositeItems:l,delCompositeItem:c},children:Object(i.jsx)(y,{left:Object(i.jsx)(ae,{}),right:Object(i.jsx)(Je,{}),children:Object(i.jsx)(Ue,{})})})};Qe.defaultProps={compositeItems:[],includeData:function(){return new Promise((function(e){var t=E.a.modal({title:"\u5bfc\u5165\u6570\u636e",content:Object(i.jsx)(E.h,{name:"data",label:"\u5bfc\u5165\u6570\u636e",rule:"REQ IS_JSON"}),formProps:{rules:{IS_JSON:function(e){try{return JSON.parse(e),{result:!0}}catch(t){return{result:!1,errMsg:"%s\u5fc5\u987b\u4e3a\u7b26\u5408JSON\u683c\u5f0f"}}}},onSubmit:function(n){var i=n.data;e(JSON.parse(i)),t.destroy()}},onCancel:function(){e([])}})}))},exportData:function(e){Be.a.info({title:"\u5bfc\u51fa\u6570\u636e",content:Object(i.jsx)(Me.a.TextArea,{value:e,readOnly:!0,rows:4}),okText:"\u786e\u5b9a"})},saveCompositeItems:function(){console.warn("\u8bf7\u5b9e\u73b0[saveCompositeItems]\u65b9\u6cd5\uff0c\u5b58\u50a8\u590d\u5408\u7ec4\u4ef6")},delCompositeItem:function(){console.warn("\u8bf7\u5b9e\u73b0[delCompositeItem]\u65b9\u6cd5\uff0c\u5b58\u50a8\u590d\u5408\u7ec4\u4ef6")}};var Ze=Qe,$e=(n(524),function(){return JSON.parse(window.localStorage.getItem("composite_items")||"[]")}),et=function(){var e=Object(a.useState)($e),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(i.jsx)(Ze,{compositeItems:n,saveCompositeItems:function(e){r((function(t){e.id=function(){var e=(window.localStorage.getItem("composite_uuid_creator")||0)+1;return window.localStorage.setItem("composite_uuid_creator",e),e}();var n=t.concat(e);return window.localStorage.setItem("composite_items",JSON.stringify(n)),n}))},delCompositeItem:function(e){var t=e.title;r((function(e){var n=e.findIndex((function(e){return e.title===t})),i=e.slice(0);return i.splice(n,1),window.localStorage.setItem("composite_items",JSON.stringify(i)),i}))}})},tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,539)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),i(e),a(e),r(e),l(e)}))},nt=(n(103),n(162),Object(a.createContext)({})),it=(nt.Provider,nt.Consumer,function(){return Object(a.useContext)(nt)}),at=n(289),rt=n(290),lt=n(301),ot=n(84),ct=n(302),st=n(294),ut=n(139),dt=(n.n(ut).a.EventEmitter,n(140),n(102),n(291),n(292),function(){return it().emitter}),pt=n(141),ft=n.n(pt),mt=n(104),bt=Object(a.createContext)(),jt=bt.Provider,ht=function(){return Object(a.useContext)(bt)},yt=Object(a.forwardRef)((function(e,t){var n=e.name,r=e.groupKey,l=e.children,c=Object(a.useState)([]),s=Object(o.a)(c,2),u=s[0],d=s[1],p=dt(),f=it().initDataRef,m=Object(a.useCallback)((function(){return He()("group_".concat(n,"_"))}),[n]),b=Object(a.useCallback)((function(e){return Array.isArray(e)&&d(r?e.map(r):ft()(0,e.length).map((function(){return m()})))}),[r,m]);Object(a.useEffect)((function(){f.current&&b(Object(mt.a)(f.current,n))}),[b,f,n]),Object(a.useEffect)((function(){var e=p.addListener("form-data-reset",(function(){d([])})),t=p.addListener("form-data-set",(function(e){var t=e.data;b(Object(mt.a)(t,n))}));return function(){e&&e.remove(),t&&t.remove()}}),[p,n,b]);var j=Object(a.useCallback)((function(){d((function(e){var t=e.slice(0);return t.push(m()),p.emit("form-group-add",{index:t.length-1,name:n}),t}))}),[m,p,n]),h=Object(a.useCallback)((function(e){d((function(t){var i=t.slice(0),a=i.indexOf(e);return i.splice(a,1),p.emit("form-group-remove",{index:a,name:n}),i}))}),[n,p]);return Object(a.useImperativeHandle)(t,(function(){return{onAdd:j,onRemove:h}}),[j,h]),u.map((function(e){return Object(i.jsx)(gt,{name:n,onAdd:j,onRemove:function(){h(e)},children:l},e)}))})),gt=function(e){var t=e.name,n=e.index,a=e.onAdd,r=e.onRemove,l=e.children;return Object(i.jsx)(jt,{value:{name:t,index:n,onAdd:a,onRemove:r},children:l})};gt.useGroup=ht,gt.GroupList=yt;var Ot=gt;n(95),n(49),n(142),n(526),Ot.useGroup,Ot.GroupList;l.a.render(Object(i.jsx)(et,{}),document.getElementById("root")),tt()},59:function(e,t,n){e.exports={con:"style_con__IybYg",panel:"style_panel__qkWSo","active-opt":"style_active-opt__14jev","active-info":"style_active-info__2fs2B","list-item":"style_list-item__2X6U5","list-title":"style_list-title__1gVpp","list-con":"style_list-con__1KKWr","anyof-title":"style_anyof-title__2Xtgx"}},89:function(e,t,n){e.exports={con:"style_con__1zOJ7","con-title":"style_con-title__1tr5X","con-item":"style_con-item__1LcNt","con-content":"style_con-content__2IEkT","con-content-inner":"style_con-content-inner__x4oZW","con-close":"style_con-close__37Tgy"}}},[[525,1,2]]]);
//# sourceMappingURL=main.23aec84c.chunk.js.map