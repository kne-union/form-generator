{"version":3,"sources":["form-generator/ComponentList/style.module.scss","form-generator/OptionList/style.module.scss","form-generator/Layout/style.module.scss","form-render/components/Img/style.module.scss","form-render/components/Container/style.module.scss","form-generator/WorkArea/style.module.scss","form-generator/context.js","form-generator/Layout/index.js","form-render/preset.js","form-render/components/Img/index.js","form-render/components/Word/index.js","form-render/components/Container/index.js","form-render/index.js","form-generator/ComponentList/index.js","form-generator/OptionList/SchemaForm.js","form-generator/WorkArea/useFieldOperation.js","form-generator/OptionList/index.js","form-generator/WorkArea/ActiveObject.js","form-generator/WorkArea/index.js","form-generator/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","context","createContext","Provider","Consumer","useAppContext","useContext","Header","Layout","Footer","Sider","Content","PageLayout","left","right","children","activeId","className","style","theme","width","config","componentsConfig","fields","rules","field","getConfig","_getComponentMap","memoize","output","forEach","item","fieldName","getComponentMap","Img","url","mod","alt","classnames","src","Word","props","Container","mode","renderFields","Object","assign","Form","SubmitButton","ResetButton","Col","Row","ComponentMap","FormRender","renderChildren","useCallback","target","parentId","data","fieldList","list","filter","length","map","id","styleProps","Component","fieldConfig","defaultProps","schemaProps","_get","keys","name","defaultFormFieldProps","hasOwnProperty","label","title","classNameProps","outerClassName","componentStyleProps","omit","childrenProps","computedProps","ComponentList","listRender","con","chunk","hidden","index","gutter","span","draggable","onDragStart","e","dataTransfer","setData","direction","renderSchemaFormField","schema","type","Array","isArray","enum","options","str","value","defaultValue","properties","useFieldOperation","setFieldList","setActiveId","toSuper","find","toRoot","toFirstChild","up","oldList","slice","findIndex","targetIndex","findLastIndex","targetItem","down","splice","del","removeChildren","indexOf","useMemo","TabPane","Tabs","useFormData","propsName","formRef","useRef","useEffect","sub","activeItem","schemaProperties","setTimeout","current","emitter","addListener","console","log","newItem","newFieldList","remove","FieldOptions","ref","description","FormOptions","formConfig","StyleOptions","commonStyleConfig","Panel","fieldOperation","icon","EnterOutlined","rotate","onClick","ArrowUpOutlined","ArrowDownOutlined","DeleteOutlined","OptionList","isField","defaultActiveKey","tab","forceRender","ActiveObject","open","outerRef","useState","targetList","setTargetList","handler","document","body","keyCode","preventDefault","addEventListener","removeEventListener","currentActive","computedTargetList","outer","outerRect","getBoundingClientRect","documentElement","scrollLeft","top","scrollTop","reverse","rect","querySelector","targetRect","height","Math","round","findTarget","childCheck","clickLeft","clientX","clickTop","clientY","hasChildNodes","onResize","onDragOver","onDrop","stopPropagation","getData","newId","uniqueId","oldData","WorkArea","setOpen","onSubmit","checked","onChange","FormGenerator","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a26fb5d4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"con\":\"style_con__1zOJ7\",\"con-title\":\"style_con-title__1tr5X\",\"con-item\":\"style_con-item__1LcNt\",\"con-content\":\"style_con-content__2IEkT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"con\":\"style_con__IybYg\",\"panel\":\"style_panel__qkWSo\",\"active-opt\":\"style_active-opt__14jev\",\"active-info\":\"style_active-info__2fs2B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__1xT37\",\"body\":\"style_body__3rkwV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"style_img__TuJFl\",\"is-block\":\"style_is-block__2lrAB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__ufTtV\",\"is-inline-block\":\"style_is-inline-block__1q5aY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"con\":\"style_con__2jgso\",\"header\":\"style_header__XznRB\",\"form-outer\":\"style_form-outer__34Hz0\",\"is-open\":\"style_is-open__1UWRg\",\"active-area\":\"style_active-area__22v39\",\"open\":\"style_open__2xzk4\",\"tip\":\"style_tip__29BXO\",\"edit\":\"style_edit__UzHg3\",\"opt-btn\":\"style_opt-btn__2LL2v\",\"active\":\"style_active__72prY\",\"form\":\"style_form__2Boti\"};","import {createContext, useContext} from 'react';\n\nconst context = createContext({});\n\nexport const {Consumer, Provider} = context;\n\nexport default context;\n\nexport const useAppContext = () => {\n    return useContext(context);\n};","import React from 'react';\nimport {Layout} from 'antd';\nimport style from './style.module.scss';\nimport {useAppContext} from \"../context\";\n\nconst {Header, Footer, Sider, Content} = Layout;\n\nconst PageLayout = ({left, right, children}) => {\n    const {activeId} = useAppContext();\n    return <Layout className={style['main']}>\n        <Header>Header</Header>\n        <Layout className={style['body']}>\n            <Sider theme=\"light\">{left}</Sider>\n            <Content>{children}</Content>\n            {activeId ? <Sider theme=\"light\" width={320}>{right}</Sider> : null}\n        </Layout>\n        <Footer>Footer</Footer>\n    </Layout>\n};\n\nexport default PageLayout;","import componentsConfig from './config.json';\nimport memoize from 'lodash/memoize';\nimport {fields, preset as formPreset} from '@kne/react-form-antd';\nimport '@kne/react-form-antd/dist/style.scss';\n\nlet config = {componentsConfig, fields, rules: {}, field: {}};\n\nconst preset = (callback) => {\n    config = callback(Object.assign({}, config));\n    formPreset({\n        rules: config.rules,\n        field: config.field\n    });\n};\n\nexport default preset;\n\nexport const getConfig = () => {\n    return config;\n};\n\n\nconst _getComponentMap = memoize((componentsConfig) => {\n    const output = {};\n    componentsConfig.forEach(({children}) => {\n        children.forEach((item) => {\n            output[item.fieldName] = item;\n        });\n    });\n    return output;\n});\n\nexport const getComponentMap = () => {\n    return _getComponentMap(getConfig().componentsConfig);\n};","import React from 'react';\nimport classnames from 'classnames';\nimport style from './style.module.scss';\n\nconst Img = ({className, url, mod, alt}) => {\n    return <img className={classnames(style['img'],'form-render_img', className, {\n        [style['is-block']]: mod === 'block'\n    })} src={url} alt={alt}/>\n};\n\nexport default Img;","import React from 'react';\nimport classnames from 'classnames';\n\nconst Word = ({className, children, ...props}) => {\n    return <span {...props} className={classnames(className,'form-render_word')}>{children}</span>\n};\n\nexport default Word;","import React from 'react';\nimport classnames from 'classnames';\nimport style from './style.module.scss';\n\n\nconst Container = ({children, mode, className, ...props}) => {\n    return <div\n        className={classnames(className, 'form-render_container', style['container'], {\n            [style['is-inline-block']]: mode === 'inline-block'\n        })} {...props}>{children}</div>\n};\n\nexport default Container;","import React, {useCallback} from 'react';\nimport _get from \"lodash/get\";\nimport omit from 'lodash/omit';\nimport {getConfig, getComponentMap} from \"./preset\";\nimport classnames from \"classnames\";\nimport Img from \"./components/Img\";\nimport Word from \"./components/Word\";\nimport Container from './components/Container';\nimport Form, {ResetButton, SubmitButton} from \"@kne/react-form-antd\";\nimport {Col, Row} from \"antd\";\n\nconst {fields} = getConfig();\nconst renderFields = Object.assign({}, {Img, Word, Container, Form, SubmitButton, ResetButton, Col, Row}, fields);\nconst ComponentMap = getComponentMap();\n\nconst FormRender = (props) => {\n    const renderChildren = useCallback(({parentId: target, fieldList: data, className}) => {\n        const list = data.filter(({parentId}) => parentId === target);\n        if (list.length === 0) {\n            return null;\n        }\n        return list.map(({id, fieldName, styleProps, props}) => {\n            const Component = renderFields[fieldName];\n\n            const fieldConfig = ComponentMap[fieldName];\n\n            const defaultProps = (() => {\n                const output = {};\n                const schemaProps = _get(fieldConfig, `['propsSchema']['properties']`, {});\n                Object.keys(schemaProps).forEach((name) => {\n                    const item = _get(schemaProps, name);\n                    if (item) {\n                        output[name] = item[\"default\"];\n                    }\n                });\n                return output;\n            })();\n\n            const defaultFormFieldProps = (() => {\n                if (!fields.hasOwnProperty(fieldName)) {\n                    return {};\n                }\n                return {\n                    name: id,\n                    label: fieldConfig.title\n                };\n            })();\n\n            const classNameProps = {\n                [fieldConfig.outerClassName || 'className']: classnames(className, styleProps.className, `id_${id}`)\n            };\n\n            const componentStyleProps = (() => {\n                const props = omit(styleProps, ['className']);\n                if (Object.keys(props).length > 0) {\n                    return {\n                        style: props\n                    };\n                }\n                return {};\n            })();\n\n            const children = renderChildren({\n                parentId: id,\n                fieldList: data\n            });\n\n            const childrenProps = children ? {children} : {};\n\n            const computedProps = Object.assign({}, defaultProps, defaultFormFieldProps, props, classNameProps, componentStyleProps, childrenProps);\n\n            return <Component key={id} {...computedProps}/>\n        });\n    }, []);\n    return renderChildren(props);\n};\n\nexport default FormRender;\n\nexport {default as preset, getConfig, getComponentMap} from './preset';","import React, {useCallback} from 'react';\nimport {Space, Row, Col} from \"antd\";\nimport {getConfig} from '../../form-render';\nimport chunk from 'lodash/chunk';\nimport style from './style.module.scss';\n\nconst {componentsConfig} = getConfig();\n\nconst ComponentList = () => {\n    const listRender = useCallback(() => {\n        return componentsConfig.map(({title, children}) => {\n            return <div className={style.con} key={title}>\n                <div className={style['con-title']}>{title}</div>\n                {chunk(children.filter(({hidden}) => hidden !== true), 2).map((item, index) => <Row\n                    className={style['con-item']} gutter={[10, 10]}\n                    key={index}>\n                    {item.map(({title, fieldName}) => <Col span={12} key={title}>\n                        <div className={style['con-content']} draggable=\"true\" onDragStart={(e) => {\n                            e.dataTransfer.setData('Text', fieldName);\n                        }}>{title}</div>\n                    </Col>)}\n                </Row>)}\n            </div>;\n        });\n    }, []);\n    return <Space direction=\"vertical\" style={{width: '100%'}}>\n        {listRender()}\n    </Space>\n};\n\nexport default ComponentList;\n\n\n","import React from 'react';\nimport _get from 'lodash/get';\nimport {Select, Input, InputNumber, Switch} from '@kne/react-form-antd';\n\nexport const renderSchemaFormField = ({name, schema}) => {\n    switch (schema.type) {\n        case 'string':\n            if (Array.isArray(schema.enum) && schema.enum.length > 0) {\n                return <Select key={name} name={name} label={schema.title || name} options={schema.enum.map((str) => ({\n                    label: str, value: str\n                }))} defaultValue={schema['default']}/>\n            }\n            return <Input key={name} type=\"text\" name={name} label={schema.title || name}\n                          defaultValue={schema['default']}/>;\n        case 'boolean':\n            return <Switch key={name} name={name} label={schema.title || name} defaultValue={schema['default']}/>\n        case 'number':\n            return <InputNumber key={name} name={name} label={schema.title || name} defaultValue={schema['default']}/>\n        case 'object':\n            const properties = _get(schema, 'properties', {});\n            return Object.keys(properties).map((name) => {\n                return renderSchemaFormField({name, schema: properties[name]});\n            });\n        default:\n            return null;\n    }\n};","import {useCallback, useMemo} from 'react';\nimport {useAppContext} from \"../context\";\nimport findLastIndex from 'lodash/findLastIndex';\nimport findIndex from 'lodash/findIndex';\n\n\nconst useFieldOperation = () => {\n    const {setFieldList, fieldList, activeId, setActiveId} = useAppContext();\n    const toSuper = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setActiveId((activeId) => {\n            const item = fieldList.find((item) => item.id === activeId);\n            if (item && item.parentId) {\n                return item.parentId;\n            }\n            return activeId;\n        });\n    }, [activeId, setActiveId, fieldList]);\n    const toRoot = useCallback(() => {\n        setActiveId('root');\n    }, [setActiveId]);\n    const toFirstChild = useCallback(() => {\n        if (!activeId) {\n            return;\n        }\n        setActiveId((activeId) => {\n            const item = fieldList.find((item) => item.parentId === activeId);\n            if (item) {\n                return item.id;\n            }\n            return activeId;\n        });\n    }, [activeId, setActiveId, fieldList]);\n    const up = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setFieldList((oldList) => {\n            const list = oldList.slice(0);\n            const index = list.findIndex((item) => item.id === activeId);\n            const targetIndex = findLastIndex(list.slice(0, index), (item) => item.parentId === list[index].parentId);\n            if (index > -1 && targetIndex > -1) {\n                const targetItem = list[targetIndex];\n                list[targetIndex] = list[index];\n                list[index] = targetItem;\n            }\n\n            return list;\n        });\n    }, [activeId, setFieldList]);\n    const down = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setFieldList((oldList) => {\n            const list = oldList.slice(0);\n            const index = list.findIndex((item) => item.id === activeId);\n            const targetIndex = findIndex(list.slice(index + 1), (item) => item.parentId === list[index].parentId);\n            if (index > -1 && targetIndex > -1) {\n                const item = list[index];\n                list.splice(index, 1);\n                list.splice(index + 1, 0, item);\n            }\n\n            return list;\n        });\n    }, [activeId, setFieldList]);\n    const del = useCallback(() => {\n        if (!activeId || activeId === 'root') {\n            return;\n        }\n        setActiveId(null);\n\n        setFieldList((oldList) => {\n            const list = oldList.slice(0);\n            const index = list.findIndex((item) => item.id === activeId);\n            const removeChildren = (id)=>{\n                const childrenList = list.filter((item) => item.parentId === id);\n                childrenList.forEach((item) => {\n                    list.splice(list.indexOf(item), 1);\n                    removeChildren(item.id);\n                });\n            };\n            if (index > -1) {\n                list.splice(index, 1);\n                removeChildren(activeId);\n            }\n            return list;\n        });\n    }, [activeId, setActiveId, setFieldList]);\n    return useMemo(() => ({\n        toRoot,\n        toSuper,\n        toFirstChild,\n        up,\n        down,\n        del\n    }), [toRoot, toSuper, toFirstChild, up, down, del]);\n};\n\nexport default useFieldOperation;","import React, {useRef, useEffect, useMemo} from 'react';\nimport {useAppContext} from '../context';\nimport _get from 'lodash/get';\nimport {getConfig, getComponentMap} from '../../form-render';\nimport {renderSchemaFormField} from './SchemaForm';\nimport Form from '@kne/react-form-antd';\nimport {Tabs, Space, Button, Empty} from 'antd';\nimport useFieldOperation from '../WorkArea/useFieldOperation';\nimport {EnterOutlined, ArrowUpOutlined, ArrowDownOutlined, DeleteOutlined} from '@ant-design/icons';\nimport formConfig from '../form-config.json';\nimport commonStyleConfig from '../common-style.json';\nimport style from './style.module.scss';\n\nconst {fields} = getConfig();\nconst ComponentMap = getComponentMap();\nconst {TabPane} = Tabs;\n\nconst useFormData = (schema, propsName = 'props') => {\n    const {fieldList, setFieldList, activeId} = useAppContext();\n    const formRef = useRef(null);\n    useEffect(() => {\n        let sub;\n        if (activeId) {\n            const activeItem = fieldList.find((item) => item.id === activeId);\n            const schemaProperties = _get(schema, 'properties', {});\n            const defaultProps = {};\n            Object.keys(schemaProperties).forEach((name) => {\n                defaultProps[name] = schemaProperties[name]['default'];\n            });\n            setTimeout(() => {\n                if (activeItem) {\n                    formRef.current.data = Object.assign({}, defaultProps, {\n                        name: activeItem.id,\n                        label: ComponentMap[activeItem.fieldName].title\n                    }, _get(activeItem, propsName));\n                }\n            }, 0);\n            sub = formRef.current.emitter.addListener('form-field-validate-complete', ({name, value}) => {\n                console.log(name, value);\n                setFieldList((fieldList) => {\n                    const activeItem = fieldList.find((item) => item.id === activeId);\n                    const index = fieldList.indexOf(activeItem);\n                    const newItem = Object.assign({}, activeItem, {\n                        [propsName]: Object.assign({}, activeItem[propsName], {[name]: value})\n                    });\n                    const newFieldList = fieldList.slice(0);\n                    newFieldList.splice(index, 1, newItem);\n                    setFieldList(newFieldList);\n                });\n            });\n        }\n        return () => {\n            sub && sub.remove();\n        };\n    }, [fieldList, schema, propsName, activeId, setFieldList]);\n    return formRef;\n};\n\nconst FieldOptions = () => {\n    const {fieldList, activeId} = useAppContext();\n    const schema = useMemo(() => {\n        const activeItem = fieldList.find((item) => item.id === activeId);\n        return _get(ComponentMap, `[\"${_get(activeItem, 'fieldName')}\"].propsSchema`, {});\n    }, [fieldList, activeId]);\n    const formRef = useFormData(schema);\n    return <Form ref={formRef} type=\"inner\">\n        {Object.keys(_get(schema, 'properties', {})).length === 0 ? <Empty description=\"\"/> : renderSchemaFormField({schema})}\n    </Form>\n};\n\nconst FormOptions = () => {\n    const formRef = useFormData(formConfig);\n    return <Form ref={formRef} type=\"inner\">\n        {renderSchemaFormField({schema: formConfig})}\n    </Form>\n};\n\nconst StyleOptions = () => {\n    const {fieldList, activeId} = useAppContext();\n    const schema = useMemo(() => {\n        const activeItem = fieldList.find((item) => item.id === activeId);\n        return Object.assign({}, commonStyleConfig, _get(ComponentMap, `[\"${_get(activeItem, 'fieldName')}\"].stylePropsSchema`, {}));\n    }, [fieldList, commonStyleConfig, activeId]);\n    const formRef = useFormData(schema, 'styleProps');\n    return <Form ref={formRef} type=\"inner\">\n        {renderSchemaFormField({schema})}\n    </Form>\n};\n\nconst Panel = () => {\n    const {fieldList, activeId} = useAppContext();\n    const item = useMemo(() => fieldList.find((item) => item.id === activeId), [fieldList, activeId]);\n    const fieldOperation = useFieldOperation();\n    if (!item) {\n        return null;\n    }\n    return <Space className={style['panel']} direction={'vertical'} style={{width: '100%'}}>\n        <Space className={style['active-info']}>\n            ID:{activeId} 类型:{ComponentMap[item.fieldName].title} {item.parentId ? <>父级ID:{item.parentId}</> : null}\n        </Space>\n        <Space className={style['active-opt']}>\n            <span>操作:</span>\n            <span>\n                {item.id === 'root' ?\n                    <Button type=\"link\" icon={<EnterOutlined rotate={-90}/>}\n                            onClick={fieldOperation.toFirstChild}/> : <>\n                        <Button type=\"link\" icon={<EnterOutlined rotate={90}/>} onClick={fieldOperation.toSuper}/>\n                        <Button type=\"link\" icon={<EnterOutlined rotate={-90}/>} onClick={fieldOperation.toFirstChild}/>\n                        <Button type=\"link\" icon={<ArrowUpOutlined/>} onClick={fieldOperation.up}/>\n                        <Button type=\"link\" icon={<ArrowDownOutlined/>} onClick={fieldOperation.down}/>\n                        <Button type=\"link\" icon={<DeleteOutlined/>} onClick={fieldOperation.del}/>\n                    </>}\n            </span>\n        </Space>\n    </Space>\n};\n\nconst OptionList = () => {\n    const {activeId, fieldList} = useAppContext();\n    const isField = useMemo(() => {\n        const activeItem = fieldList.find((item) => item.id === activeId);\n        if (!activeItem) {\n            return false;\n        }\n        return fields.hasOwnProperty(activeItem.fieldName);\n    }, [activeId, fieldList]);\n    if (!activeId) {\n        return null;\n    }\n    return (\n        <Space direction={'vertical'} style={{width: '100%'}}>\n            <Panel/>\n            <Tabs className={style['con']} defaultActiveKey=\"1\">\n                <TabPane tab=\"组件属性\" key=\"1\" forceRender>\n                    <FieldOptions/>\n                </TabPane>\n                {isField ? <TabPane tab=\"表单属性\" key=\"2\" forceRender>\n                    <FormOptions/>\n                </TabPane> : null}\n                <TabPane tab=\"样式属性\" key=\"3\" forceRender>\n                    <StyleOptions/>\n                </TabPane>\n            </Tabs>\n        </Space>\n    );\n};\n\nexport default OptionList;","import React, {useState, useEffect, useCallback, useMemo, useRef} from 'react';\nimport {useAppContext} from \"../context\";\nimport useFieldOperation from \"./useFieldOperation\";\nimport classnames from \"classnames\";\nimport style from \"./style.module.scss\";\nimport {getComponentMap} from \"../../form-render\";\nimport uniqueId from \"lodash/uniqueId\";\nimport ResizeObserver from 'rc-resize-observer';\nimport {ArrowDownOutlined, ArrowUpOutlined, DeleteOutlined, EnterOutlined} from \"@ant-design/icons\";\n\nconst ComponentMap = getComponentMap();\n\nconst ActiveObject = ({open, children}) => {\n    const {fieldList, setFieldList, activeId, setActiveId} = useAppContext();\n    const outerRef = useRef(null);\n    const [targetList, setTargetList] = useState([]);\n    const fieldOperation = useFieldOperation();\n    useEffect(() => {\n        const handler = (e) => {\n            if (e.target !== document.body) {\n                return;\n            }\n            if (activeId) {\n                if (e.keyCode === 13) {\n                    e.preventDefault();\n                    fieldOperation.toRoot();\n                }\n                if (e.keyCode === 37) {\n                    e.preventDefault();\n                    fieldOperation.toSuper();\n                }\n                if (e.keyCode === 38) {\n                    e.preventDefault();\n                    fieldOperation.up();\n                }\n                if (e.keyCode === 39) {\n                    e.preventDefault();\n                    fieldOperation.toFirstChild();\n                }\n                if (e.keyCode === 40) {\n                    e.preventDefault();\n                    fieldOperation.down();\n                }\n\n                if (e.keyCode === 8) {\n                    e.preventDefault();\n                    fieldOperation.del();\n                }\n            }\n        };\n        document.addEventListener('keydown', handler);\n        return () => {\n            document.removeEventListener('keydown', handler);\n        };\n    }, [activeId, fieldOperation]);\n    const currentActive = useMemo(() => {\n        if (!activeId) {\n            return;\n        }\n        return targetList.find((item) => item.id === activeId);\n    }, [activeId, targetList]);\n    const computedTargetList = useCallback(() => {\n        const outer = outerRef.current;\n        const outerRect = outer.getBoundingClientRect();\n        const left = outerRect.left + document.documentElement.scrollLeft;\n        const top = outerRect.top + document.documentElement.scrollTop;\n        const output = fieldList.slice(0).reverse().map(({id, fieldName}) => {\n            const targetDom = outer.querySelector(`.id_${id}`);\n            const rect = targetDom.getBoundingClientRect();\n            const targetRect = {\n                left: rect.left + document.documentElement.scrollLeft,\n                top: rect.top + document.documentElement.scrollTop,\n                width: rect.width,\n                height: rect.height\n            };\n            return {\n                id,\n                fieldName,\n                title: ComponentMap[fieldName].title,\n                top: Math.round(targetRect.top - top),\n                left: Math.round(targetRect.left - left),\n                width: Math.round(targetRect.width),\n                height: Math.round(targetRect.height),\n                outer: {left, top, width: outerRect.width, height: outerRect.height}\n            };\n        });\n        setTargetList(output);\n    }, [fieldList]);\n\n    const findTarget = useCallback((e, childCheck = false) => {\n        return targetList.find(({fieldName, left, top, width, height, outer}) => {\n            const clickLeft = e.clientX + document.documentElement.scrollLeft - outer.left,\n                clickTop = e.clientY + document.documentElement.scrollTop - outer.top;\n            return clickLeft > left && clickLeft < left + width && clickTop > top && clickTop < top + height && (!childCheck || ComponentMap[fieldName].hasChildNodes);\n        });\n    }, [targetList]);\n    useEffect(() => {\n        computedTargetList();\n    }, [computedTargetList]);\n    return <ResizeObserver onResize={() => {\n        computedTargetList();\n    }}>\n        <div className={classnames(style['form-outer'], {\n            [style['is-open']]: open\n        })} ref={outerRef}>\n            {children}\n            {open ? <div className={style['active-area']} onClick={(e) => {\n                e.preventDefault();\n                const target = findTarget(e);\n                if (target) {\n                    if (target.id === activeId) {\n                        setActiveId(null);\n                        return;\n                    }\n                    setActiveId(target.id);\n                }\n            }} onDragOver={(e) => {\n                e.preventDefault();\n            }} onDrop={(e) => {\n                const target = findTarget(e, true);\n                if (target && ComponentMap[target.fieldName].hasChildNodes === true) {\n                    e.stopPropagation();\n                    const fieldName = e.dataTransfer.getData(\"Text\");\n                    const newId = uniqueId(`${fieldName}_`);\n                    setFieldList((oldData) => [...oldData, {\n                        id: newId, parentId: target.id, fieldName, props: {}, styleProps: {}\n                    }]);\n                }\n            }}>\n                {activeId && currentActive ? <div className={classnames(style['active'])} style={{\n                    top: currentActive.top,\n                    left: currentActive.left,\n                    width: currentActive.width,\n                    height: currentActive.height\n                }}>\n            <span\n                className={style['tip']}>{currentActive.title}</span>\n                    <span className={style['edit']}>{(currentActive.id === 'root' ?\n                        <EnterOutlined rotate={-90} className={style['opt-btn']} onClick={(e) => {\n                            e.stopPropagation();\n                            fieldOperation.toFirstChild();\n                        }}/> : <>\n                            <EnterOutlined rotate={90} className={style['opt-btn']} onClick={(e) => {\n                                e.stopPropagation();\n                                fieldOperation.toSuper();\n                            }}/>\n                            <EnterOutlined rotate={-90} className={style['opt-btn']} onClick={(e) => {\n                                e.stopPropagation();\n                                fieldOperation.toFirstChild();\n                            }}/>\n                            <ArrowUpOutlined className={style['opt-btn']} onClick={(e) => {\n                                e.stopPropagation();\n                                fieldOperation.up();\n                            }}/>\n                            <ArrowDownOutlined className={style['opt-btn']} onClick={(e) => {\n                                e.stopPropagation();\n                                fieldOperation.down();\n                            }}/>\n                            <DeleteOutlined className={style['opt-btn']} onClick={(e) => {\n                                e.stopPropagation();\n                                fieldOperation.del();\n                            }}/>\n                        </>)}</span>\n                </div> : null}\n            </div> : null}\n        </div>\n    </ResizeObserver>\n};\n\nexport default ActiveObject;","import React, {useEffect, useState} from 'react';\nimport FormRender from '../../form-render';\nimport {Switch, Space} from 'antd';\nimport {useAppContext} from '../context';\nimport style from './style.module.scss';\nimport ActiveObject from \"./ActiveObject\";\n\nconst WorkArea = () => {\n    const {fieldList, setFieldList, setActiveId} = useAppContext();\n    const [open, setOpen] = useState(true);\n    useEffect(() => {\n        setFieldList([{\n            id: 'root',\n            fieldName: 'Form',\n            props: {\n                onSubmit: (data) => {\n                    console.log(data);\n                }\n            },\n            styleProps: {}\n        }]);\n    }, [setFieldList]);\n    return <div className={style['con']}>\n        <div className={style['header']}>\n            <Space>\n                <span>预览模式:</span><Switch checked={!open} onChange={(value) => {\n                setActiveId(null);\n                setOpen(!value);\n            }}/>\n            </Space>\n        </div>\n        <ActiveObject open={open}>\n            <FormRender fieldList={fieldList} className={style['form']}/>\n        </ActiveObject>\n    </div>\n};\n\nexport default WorkArea;","import React, {useState} from 'react';\nimport Layout from './Layout';\nimport {Provider} from './context';\nimport ComponentList from './ComponentList';\nimport OptionList from './OptionList';\nimport WorkArea from './WorkArea';\n\nconst FormGenerator = () => {\n    const [fieldList, setFieldList] = useState([]);\n    const [activeId, setActiveId] = useState(null);\n    return <Provider value={{activeId, setActiveId, fieldList, setFieldList}}>\n        <Layout left={<ComponentList/>} right={<OptionList/>}>\n            <WorkArea/>\n        </Layout>\n    </Provider>\n};\n\nexport default FormGenerator;\n\nexport {preset} from '../form-render';","import React from 'react';\nimport FormGenerator from './form-generator';\nimport 'antd/dist/antd.css';\n\nconst App = () => {\n    return <FormGenerator />\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}