(this["webpackJsonpform-generator"]=this["webpackJsonpform-generator"]||[]).push([[0],{108:function(e,t,n){e.exports={con:"style_con__1zOJ7","con-title":"style_con-title__1tr5X","con-item":"style_con-item__1LcNt","con-content":"style_con-content__2IEkT"}},109:function(e,t,n){e.exports={con:"style_con__IybYg",panel:"style_panel__qkWSo","active-opt":"style_active-opt__14jev","active-info":"style_active-info__2fs2B"}},179:function(e,t,n){e.exports={main:"style_main__1xT37",body:"style_body__3rkwV"}},184:function(e,t,n){e.exports={img:"style_img__TuJFl","is-block":"style_is-block__2lrAB"}},185:function(e,t,n){e.exports={container:"style_container__ufTtV","is-inline-block":"style_is-inline-block__1q5aY"}},186:function(e){e.exports=JSON.parse('{"type":"object","properties":{"name":{"title":"\u5b57\u6bb5\u540d","type":"string"},"label":{"title":"Label","type":"string"},"rule":{"title":"\u6821\u9a8c\u89c4\u5219","type":"string"},"important":{"title":"\u662f\u5426\u91cd\u8981\u5b57\u6bb5","type":"boolean"},"ignoreLabelWidth":{"title":"\u662f\u5426\u5ffd\u7565label\u5bbd\u5ea6\u8ba1\u7b97","type":"boolean","default":false},"labelHidden":{"title":"\u662f\u5426\u9690\u85cflabel\u663e\u793a","type":"boolean","default":false}}}')},187:function(e){e.exports=JSON.parse('{"type":"object","properties":{"className":{"title":"\u7c7b\u540d","type":"string","default":""}}}')},241:function(e){e.exports=JSON.parse('[{"title":"\u5bb9\u5668\u7ec4\u4ef6","name":"container","children":[{"title":"\u666e\u901a\u5bb9\u5668","fieldName":"Container","hasChildNodes":true,"propsSchema":{"type":"object","properties":{"mode":{"title":"\u663e\u793a\u6a21\u5f0f","type":"string","enum":["inline-block","block"],"default":"block"}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"textAlign":{"title":"\u5b57\u4f53\u5bf9\u9f50","type":"string","enum":["left","right","center","justify","inherit"],"default":"inherit"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"background":{"title":"\u80cc\u666f","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}},{"title":"\u6805\u683c\u884c","fieldName":"Row","hasChildNodes":true,"propsSchema":{"type":"object","properties":{"align":{"title":"\u5782\u76f4\u5bf9\u9f50\u65b9\u5f0f","type":"string","enum":["top","middle","bottom"],"default":"top"},"justify":{"title":"\u6c34\u5e73\u6392\u5217\u65b9\u5f0f","type":"string","enum":["start","end","center","space-around","space-between"],"default":"start"},"gutter":{"title":"\u6805\u683c\u95f4\u9694","type":"string","default":"0"},"wrap":{"title":"\u662f\u5426\u81ea\u52a8\u6362\u884c","type":"boolean","default":true}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"textAlign":{"title":"\u5b57\u4f53\u5bf9\u9f50","type":"string","enum":["left","right","center","justify","inherit"],"default":"inherit"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"background":{"title":"\u80cc\u666f","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}},{"title":"\u6805\u683c\u5217","fieldName":"Col","hasChildNodes":true,"propsSchema":{"type":"object","properties":{"span":{"title":"\u6805\u683c\u5360\u4f4d\u683c\u6570","type":"number"},"offset":{"title":"\u6805\u683c\u5de6\u4fa7\u7684\u95f4\u9694\u683c\u6570","type":"number","default":0},"order":{"title":"\u6805\u683c\u987a\u5e8f","type":"number","default":0},"pull":{"title":"\u6805\u683c\u5411\u5de6\u79fb\u52a8\u683c\u6570","type":"number","default":0},"push":{"title":"\u6805\u683c\u5411\u53f3\u79fb\u52a8\u683c\u6570","type":"number","default":0},"flex":{"title":"flex \u5e03\u5c40\u5c5e\u6027","type":"string"}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"textAlign":{"title":"\u5b57\u4f53\u5bf9\u9f50","type":"string","enum":["left","right","center","justify","inherit"],"default":"inherit"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"background":{"title":"\u80cc\u666f","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}}]},{"title":"\u8868\u5355\u7ec4\u4ef6","name":"field","children":[{"title":"\u8868\u5355","fieldName":"Form","hasChildNodes":true,"hidden":true,"propsSchema":{"type":"object","properties":{"type":{"title":"\u7c7b\u578b","type":"string","enum":["inline","default","inner"],"default":"default"},"size":{"title":"\u5927\u5c0f","type":"string","enum":["small","default","large"],"default":"default"},"debug":{"title":"\u8c03\u8bd5\u6a21\u5f0f","type":"boolean"}}}},{"title":"\u8f93\u5165\u6846","fieldName":"Input","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"type":{"title":"\u7c7b\u578b","type":"string","enum":["text","password"],"default":"text"},"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u586b\u5199"}}}},{"title":"\u6570\u5b57\u8f93\u5165\u6846","fieldName":"InputNumber","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u586b\u5199"},"max":{"title":"\u6700\u5927\u503c","type":"number"},"min":{"title":"\u6700\u5c0f\u503c","type":"number"},"step":{"title":"\u6bcf\u6b21\u6539\u53d8\u6b65\u6570","type":"number","default":1}}}},{"title":"\u6587\u672c\u6846","fieldName":"TextArea","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u586b\u5199"},"allowClear":{"title":"\u6e05\u9664\u6309\u94ae","type":"boolean","default":false},"autoSize":{"title":"\u81ea\u9002\u5e94\u9ad8\u5ea6","type":"boolean","default":false}}}},{"title":"\u4e0b\u62c9\u9009\u62e9\u6846","fieldName":"Select","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u9009\u62e9"},"options":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}},"default":[{"label":"\u9009\u9879\u4e00","value":"1"},{"label":"\u9009\u9879\u4e8c","value":"2"}]},"allowClear":{"title":"\u652f\u6301\u6e05\u9664","type":"boolean","default":false},"mode":{"title":"\u6a21\u5f0f\u4e3a\u591a\u9009\u6216\u6807\u7b7e","type":"string","enum":["multiple","tags"]},"autoClearSearchValue":{"title":"\u662f\u5426\u5728\u9009\u4e2d\u9879\u540e\u6e05\u7a7a\u641c\u7d22\u6846","type":"boolean","default":false},"bordered":{"title":"\u662f\u5426\u6709\u8fb9\u6846","type":"boolean","default":true},"listHeight":{"title":"\u5f39\u7a97\u6eda\u52a8\u9ad8\u5ea6","type":"number","default":256},"maxTagCount":{"title":"\u6700\u591a\u663e\u793a\u591a\u5c11\u4e2a tag","type":"number"},"maxTagTextLength":{"title":"\u6700\u5927\u663e\u793a\u7684 tag \u6587\u672c\u957f\u5ea6","type":"number"}}}},{"title":"\u5355\u9009","fieldName":"RadioGroup","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"options":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}},"default":[{"label":"\u9009\u9879\u4e00","value":"1"},{"label":"\u9009\u9879\u4e8c","value":"2"}]},"optionType":{"title":"Radio\u7c7b\u578b","type":"string","enum":["default","button"],"default":"default"},"buttonStyle":{"title":"\u6309\u94ae\u72b6\u6001\u7684\u98ce\u683c\u6837\u5f0f","type":"string","enum":["outline","solid"],"default":"outline"}}}},{"title":"\u591a\u9009","fieldName":"CheckboxGroup","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"options":{"type":"array","items":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}}},"default":[{"label":"\u9009\u9879\u4e00","value":"1"},{"label":"\u9009\u9879\u4e8c","value":"2"}]}}}},{"title":"\u5f00\u5173","fieldName":"Switch","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"checkedChildren":{"title":"\u9009\u4e2d\u65f6\u7684\u5185\u5bb9","type":"string"},"unCheckedChildren":{"title":"\u975e\u9009\u4e2d\u65f6\u7684\u5185\u5bb9","type":"string"}}}},{"title":"\u65e5\u671f","fieldName":"DatePicker","outerClassName":"wrappedClassName","propsSchema":{"type":"object","properties":{"placeholder":{"title":"\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8bf7\u9009\u62e9"},"picker":{"title":"\u9009\u62e9\u5668\u7c7b\u578b","type":"string","enum":["date","week","month","quarter","year"],"default":"date"},"format":{"title":"\u65e5\u671f\u683c\u5f0f","type":"string","default":"YYYY-MM-DD"},"showTime":{"title":"\u589e\u52a0\u65f6\u95f4\u9009\u62e9\u529f\u80fd","type":"boolean"},"bordered":{"title":"\u5426\u6709\u8fb9\u6846","type":"boolean","default":true},"allowClear":{"title":"\u662f\u5426\u663e\u793a\u6e05\u9664\u6309\u94ae","type":"boolean","default":true},"showNow":{"title":"\u662f\u5426\u663e\u793a<\u6b64\u523b>\u6309\u94ae","type":"boolean","default":true},"showToday":{"title":"\u662f\u5426\u663e\u793a<\u4eca\u5929>\u6309\u94ae","type":"boolean","default":true}}}},{"title":"\u63d0\u4ea4\u6309\u94ae","fieldName":"SubmitButton","propsSchema":{"type":"object","properties":{"children":{"title":"\u6587\u5b57","type":"string","default":"\u63d0\u4ea4"},"type":{"title":"\u7c7b\u578b","type":"string","enum":["primary","ghost","dashed","link","text","default"],"default":"primary"},"shape":{"title":"\u5f62\u72b6","type":"string","enum":["circle","round"]},"block":{"title":"\u662f\u5426\u5757\u7ea7","type":"boolean","default":false}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"}}}},{"title":"\u91cd\u7f6e\u6309\u94ae","fieldName":"ResetButton","propsSchema":{"type":"object","properties":{"children":{"title":"\u6587\u5b57","type":"string","default":"\u91cd\u7f6e"},"type":{"title":"\u7c7b\u578b","type":"string","enum":["primary","ghost","dashed","link","text","default"],"default":"default"},"shape":{"title":"\u5f62\u72b6","type":"string","enum":["circle","round"]},"block":{"title":"\u662f\u5426\u5757\u7ea7","type":"boolean","default":false}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"}}}}]},{"title":"\u4fee\u9970\u7ec4\u4ef6","name":"decorator","children":[{"title":"\u56fe\u7247","fieldName":"Img","propsSchema":{"type":"object","properties":{"url":{"title":"\u56fe\u7247\u5730\u5740","type":"string","default":"https://static.knxgalaxy.com/upload_assets/app-manager/6ee5f73171768d4a15eec479ab66d013.png"},"alt":{"title":"\u56fe\u7247\u5360\u4f4d\u5b57\u7b26","type":"string","default":"\u8fd9\u662f\u4e00\u5f20\u56fe\u7247"},"mode":{"title":"\u663e\u793a\u6a21\u5f0f","type":"string","enum":["inline-block","block"],"default":"inline-block"}}},"stylePropsSchema":{"type":"object","properties":{"width":{"title":"\u5bbd\u5ea6","type":"string","default":"auto"},"height":{"title":"\u9ad8\u5ea6","type":"string","default":"auto"},"border":{"title":"\u8fb9\u6846","type":"string","default":"none"},"borderRadius":{"title":"\u5706\u89d2","type":"string","default":""},"margin":{"title":"margin","type":"string","default":""},"padding":{"title":"padding","type":"string","default":""},"boxShadow":{"title":"\u9634\u5f71","type":"string","default":""}}}},{"title":"\u6587\u5b57","fieldName":"Word","propsSchema":{"type":"object","properties":{"children":{"title":"\u5185\u5bb9","type":"string","default":"\u8bf7\u4fee\u6539\u6587\u5b57"}}},"stylePropsSchema":{"type":"object","properties":{"fontSize":{"title":"\u5b57\u4f53\u5927\u5c0f","type":"string","default":""},"fontFamily":{"title":"\u5b57\u4f53","type":"string","default":""},"fontWeight":{"title":"\u5b57\u91cd","type":"string","default":""},"color":{"title":"\u989c\u8272","type":"string","default":""}}}}]}]')},285:function(e,t,n){},41:function(e,t,n){e.exports={con:"style_con__2jgso",header:"style_header__XznRB","form-outer":"style_form-outer__34Hz0","is-open":"style_is-open__1UWRg","active-area":"style_active-area__22v39",open:"style_open__2xzk4",tip:"style_tip__29BXO",edit:"style_edit__UzHg3","opt-btn":"style_opt-btn__2LL2v",active:"style_active__72prY",form:"style_form__2Boti"}},504:function(e,t,n){"use strict";n.r(t);var i=n(7),a=n(0),l=n(28),r=n.n(l),o=(n(285),n(76)),s=n(508),c=n(179),u=n.n(c),d=Object(a.createContext)({}),p=(d.Consumer,d.Provider),f=function(){return Object(a.useContext)(d)},b=s.a.Header,m=s.a.Footer,j=s.a.Sider,y=s.a.Content,h=function(e){var t=e.left,n=e.right,a=e.children,l=f().activeId;return Object(i.jsxs)(s.a,{className:u.a.main,children:[Object(i.jsx)(b,{children:"Header"}),Object(i.jsxs)(s.a,{className:u.a.body,children:[Object(i.jsx)(j,{theme:"light",children:t}),Object(i.jsx)(y,{children:a}),l?Object(i.jsx)(j,{theme:"light",width:320,children:n}):null]}),Object(i.jsx)(m,{children:"Footer"})]})},g=n(509),O=n(510),v=n(278),x=n(69),N=n(51),C=n(19),_=n.n(C),k=n(240),w=n.n(k),S=n(241),I=n(73),L=n.n(I),P=n(44),F=(n(491),{componentsConfig:S,fields:P.h,rules:{},field:{}}),R=function(){return F},T=L()((function(e){var t={};return e.forEach((function(e){e.children.forEach((function(e){t[e.fieldName]=e}))})),t})),D=function(){return T(R().componentsConfig)},E=n(2),B=n.n(E),A=n(184),M=n.n(A),z=function(e){var t=e.className,n=e.url,a=e.mod,l=e.alt;return Object(i.jsx)("img",{className:B()(M.a.img,"form-render_img",t,Object(N.a)({},M.a["is-block"],"block"===a)),src:n,alt:l})},Y=n(147),J=function(e){var t=e.className,n=e.children,a=Object(Y.a)(e,["className","children"]);return Object(i.jsx)("span",Object(x.a)(Object(x.a)({},a),{},{className:B()(t,"form-render_word"),children:n}))},V=n(185),H=n.n(V),W=function(e){var t=e.children,n=e.mode,a=e.className,l=Object(Y.a)(e,["children","mode","className"]);return Object(i.jsx)("div",Object(x.a)(Object(x.a)({className:B()(a,"form-render_container",H.a.container,Object(N.a)({},H.a["is-inline-block"],"inline-block"===n))},l),{},{children:t}))},q=R().fields,X=Object.assign({},{Img:z,Word:J,Container:W,Form:P.g,SubmitButton:P.e,ResetButton:P.c,Col:O.a,Row:g.a},q),G=D(),U=function(e){var t=Object(a.useCallback)((function(e){var n=e.parentId,a=e.fieldList,l=e.className,r=a.filter((function(e){return e.parentId===n}));return 0===r.length?null:r.map((function(e){var n=e.id,r=e.fieldName,o=e.styleProps,s=e.props,c=X[r],u=G[r],d=function(){var e={},t=_()(u,"['propsSchema']['properties']",{});return Object.keys(t).forEach((function(n){var i=_()(t,n);i&&(e[n]=i.default)})),e}(),p=q.hasOwnProperty(r)?{name:n,label:u.title}:{},f=Object(N.a)({},u.outerClassName||"className",B()(l,o.className,"id_".concat(n))),b=function(){var e=w()(o,["className"]);return Object.keys(e).length>0?{style:e}:{}}(),m=t({parentId:n,fieldList:a}),j=m?{children:m}:{},y=Object.assign({},d,p,s,f,b,j);return Object(i.jsx)(c,Object(x.a)({},y),n)}))}),[]);return t(e)},K=n(266),Q=n.n(K),Z=n(108),$=n.n(Z),ee=R().componentsConfig,te=function(){var e=Object(a.useCallback)((function(){return ee.map((function(e){var t=e.title,n=e.children;return Object(i.jsxs)("div",{className:$.a.con,children:[Object(i.jsx)("div",{className:$.a["con-title"],children:t}),Q()(n.filter((function(e){return!0!==e.hidden})),2).map((function(e,t){return Object(i.jsx)(g.a,{className:$.a["con-item"],gutter:[10,10],children:e.map((function(e){var t=e.title,n=e.fieldName;return Object(i.jsx)(O.a,{span:12,children:Object(i.jsx)("div",{className:$.a["con-content"],draggable:"true",onDragStart:function(e){e.dataTransfer.setData("Text",n)},children:t})},t)}))},t)}))]},t)}))}),[]);return Object(i.jsx)(v.b,{direction:"vertical",style:{width:"100%"},children:e()})},ne=function e(t){var n=t.name,a=t.schema;switch(a.type){case"string":return Array.isArray(a.enum)&&a.enum.length>0?Object(i.jsx)(P.d,{name:n,label:a.title||n,options:a.enum.map((function(e){return{label:e,value:e}})),defaultValue:a.default},n):Object(i.jsx)(P.a,{type:"text",name:n,label:a.title||n,defaultValue:a.default},n);case"boolean":return Object(i.jsx)(P.f,{name:n,label:a.title||n,defaultValue:a.default},n);case"number":return Object(i.jsx)(P.b,{name:n,label:a.title||n,defaultValue:a.default},n);case"object":var l=_()(a,"properties",{});return Object.keys(l).map((function(t){return e({name:t,schema:l[t]})}));default:return null}},ie=n(507),ae=n(92),le=n(45),re=n(267),oe=n.n(re),se=n(268),ce=n.n(se),ue=function(){var e=f(),t=e.setFieldList,n=e.fieldList,i=e.activeId,l=e.setActiveId,r=Object(a.useCallback)((function(){i&&"root"!==i&&l((function(e){var t=n.find((function(t){return t.id===e}));return t&&t.parentId?t.parentId:e}))}),[i,l,n]),o=Object(a.useCallback)((function(){l("root")}),[l]),s=Object(a.useCallback)((function(){i&&l((function(e){var t=n.find((function(t){return t.parentId===e}));return t?t.id:e}))}),[i,l,n]),c=Object(a.useCallback)((function(){i&&"root"!==i&&t((function(e){var t=e.slice(0),n=t.findIndex((function(e){return e.id===i})),a=oe()(t.slice(0,n),(function(e){return e.parentId===t[n].parentId}));if(n>-1&&a>-1){var l=t[a];t[a]=t[n],t[n]=l}return t}))}),[i,t]),u=Object(a.useCallback)((function(){i&&"root"!==i&&t((function(e){var t=e.slice(0),n=t.findIndex((function(e){return e.id===i})),a=ce()(t.slice(n+1),(function(e){return e.parentId===t[n].parentId}));if(n>-1&&a>-1){var l=t[n];t.splice(n,1),t.splice(n+1,0,l)}return t}))}),[i,t]),d=Object(a.useCallback)((function(){i&&"root"!==i&&(l(null),t((function(e){var t=e.slice(0),n=t.findIndex((function(e){return e.id===i}));return n>-1&&(t.splice(n,1),function e(n){t.filter((function(e){return e.parentId===n})).forEach((function(n){t.splice(t.indexOf(n),1),e(n.id)}))}(i)),t})))}),[i,l,t]);return Object(a.useMemo)((function(){return{toRoot:o,toSuper:r,toFirstChild:s,up:c,down:u,del:d}}),[o,r,s,c,u,d])},de=n(511),pe=n(512),fe=n(513),be=n(514),me=n(186),je=n(187),ye=n(109),he=n.n(ye),ge=R().fields,Oe=D(),ve=ie.a.TabPane,xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"props",n=f(),i=n.fieldList,l=n.setFieldList,r=n.activeId,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var n;if(r){var a=i.find((function(e){return e.id===r})),s=_()(e,"properties",{}),c={};Object.keys(s).forEach((function(e){c[e]=s[e].default})),setTimeout((function(){a&&(o.current.data=Object.assign({},c,{name:a.id,label:Oe[a.fieldName].title},_()(a,t)))}),0),n=o.current.emitter.addListener("form-field-validate-complete",(function(e){var n=e.name,i=e.value;console.log(n,i),l((function(e){var a=e.find((function(e){return e.id===r})),o=e.indexOf(a),s=Object.assign({},a,Object(N.a)({},t,Object.assign({},a[t],Object(N.a)({},n,i)))),c=e.slice(0);c.splice(o,1,s),l(c)}))}))}return function(){n&&n.remove()}}),[i,e,t,r,l]),o},Ne=function(){var e=f(),t=e.fieldList,n=e.activeId,l=Object(a.useMemo)((function(){var e=t.find((function(e){return e.id===n}));return _()(Oe,'["'.concat(_()(e,"fieldName"),'"].propsSchema'),{})}),[t,n]),r=xe(l);return Object(i.jsx)(P.g,{ref:r,type:"inner",children:0===Object.keys(_()(l,"properties",{})).length?Object(i.jsx)(ae.a,{description:""}):ne({schema:l})})},Ce=function(){var e=xe(me);return Object(i.jsx)(P.g,{ref:e,type:"inner",children:ne({schema:me})})},_e=function(){var e=f(),t=e.fieldList,n=e.activeId,l=Object(a.useMemo)((function(){var e=t.find((function(e){return e.id===n}));return Object.assign({},je,_()(Oe,'["'.concat(_()(e,"fieldName"),'"].stylePropsSchema'),{}))}),[t,je,n]),r=xe(l,"styleProps");return Object(i.jsx)(P.g,{ref:r,type:"inner",children:ne({schema:l})})},ke=function(){var e=f(),t=e.fieldList,n=e.activeId,l=Object(a.useMemo)((function(){return t.find((function(e){return e.id===n}))}),[t,n]),r=ue();return l?Object(i.jsxs)(v.b,{className:he.a.panel,direction:"vertical",style:{width:"100%"},children:[Object(i.jsxs)(v.b,{className:he.a["active-info"],children:["ID:",n," \u7c7b\u578b:",Oe[l.fieldName].title," ",l.parentId?Object(i.jsxs)(i.Fragment,{children:["\u7236\u7ea7ID:",l.parentId]}):null]}),Object(i.jsxs)(v.b,{className:he.a["active-opt"],children:[Object(i.jsx)("span",{children:"\u64cd\u4f5c:"}),Object(i.jsx)("span",{children:"root"===l.id?Object(i.jsx)(le.a,{type:"link",icon:Object(i.jsx)(de.a,{rotate:-90}),onClick:r.toFirstChild}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(le.a,{type:"link",icon:Object(i.jsx)(de.a,{rotate:90}),onClick:r.toSuper}),Object(i.jsx)(le.a,{type:"link",icon:Object(i.jsx)(de.a,{rotate:-90}),onClick:r.toFirstChild}),Object(i.jsx)(le.a,{type:"link",icon:Object(i.jsx)(pe.a,{}),onClick:r.up}),Object(i.jsx)(le.a,{type:"link",icon:Object(i.jsx)(fe.a,{}),onClick:r.down}),Object(i.jsx)(le.a,{type:"link",icon:Object(i.jsx)(be.a,{}),onClick:r.del})]})})]})]}):null},we=function(){var e=f(),t=e.activeId,n=e.fieldList,l=Object(a.useMemo)((function(){var e=n.find((function(e){return e.id===t}));return!!e&&ge.hasOwnProperty(e.fieldName)}),[t,n]);return t?Object(i.jsxs)(v.b,{direction:"vertical",style:{width:"100%"},children:[Object(i.jsx)(ke,{}),Object(i.jsxs)(ie.a,{className:he.a.con,defaultActiveKey:"1",children:[Object(i.jsx)(ve,{tab:"\u7ec4\u4ef6\u5c5e\u6027",forceRender:!0,children:Object(i.jsx)(Ne,{})},"1"),l?Object(i.jsx)(ve,{tab:"\u8868\u5355\u5c5e\u6027",forceRender:!0,children:Object(i.jsx)(Ce,{})},"2"):null,Object(i.jsx)(ve,{tab:"\u6837\u5f0f\u5c5e\u6027",forceRender:!0,children:Object(i.jsx)(_e,{})},"3")]})]}):null},Se=n(277),Ie=n(41),Le=n.n(Ie),Pe=n(272),Fe=n(100),Re=n.n(Fe),Te=n(61),De=D(),Ee=function(e){var t=e.open,n=e.children,l=f(),r=l.fieldList,s=l.setFieldList,c=l.activeId,u=l.setActiveId,d=Object(a.useRef)(null),p=Object(a.useState)([]),b=Object(o.a)(p,2),m=b[0],j=b[1],y=ue();Object(a.useEffect)((function(){var e=function(e){e.target===document.body&&c&&(13===e.keyCode&&(e.preventDefault(),y.toRoot()),37===e.keyCode&&(e.preventDefault(),y.toSuper()),38===e.keyCode&&(e.preventDefault(),y.up()),39===e.keyCode&&(e.preventDefault(),y.toFirstChild()),40===e.keyCode&&(e.preventDefault(),y.down()),8===e.keyCode&&(e.preventDefault(),y.del()))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[c,y]);var h=Object(a.useMemo)((function(){if(c)return m.find((function(e){return e.id===c}))}),[c,m]),g=Object(a.useCallback)((function(){var e=d.current,t=e.getBoundingClientRect(),n=t.left+document.documentElement.scrollLeft,i=t.top+document.documentElement.scrollTop,a=r.slice(0).reverse().map((function(a){var l=a.id,r=a.fieldName,o=e.querySelector(".id_".concat(l)).getBoundingClientRect(),s={left:o.left+document.documentElement.scrollLeft,top:o.top+document.documentElement.scrollTop,width:o.width,height:o.height};return{id:l,fieldName:r,title:De[r].title,top:Math.round(s.top-i),left:Math.round(s.left-n),width:Math.round(s.width),height:Math.round(s.height),outer:{left:n,top:i,width:t.width,height:t.height}}}));j(a)}),[r]),O=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m.find((function(n){var i=n.fieldName,a=n.left,l=n.top,r=n.width,o=n.height,s=n.outer,c=e.clientX+document.documentElement.scrollLeft-s.left,u=e.clientY+document.documentElement.scrollTop-s.top;return c>a&&c<a+r&&u>l&&u<l+o&&(!t||De[i].hasChildNodes)}))}),[m]);return Object(a.useEffect)((function(){g()}),[g]),Object(i.jsx)(Te.a,{onResize:function(){g()},children:Object(i.jsxs)("div",{className:B()(Le.a["form-outer"],Object(N.a)({},Le.a["is-open"],t)),ref:d,children:[n,t?Object(i.jsx)("div",{className:Le.a["active-area"],onClick:function(e){e.preventDefault();var t=O(e);if(t){if(t.id===c)return void u(null);u(t.id)}},onDragOver:function(e){e.preventDefault()},onDrop:function(e){var t=O(e,!0);if(t&&!0===De[t.fieldName].hasChildNodes){e.stopPropagation();var n=e.dataTransfer.getData("Text"),i=Re()("".concat(n,"_"));s((function(e){return[].concat(Object(Pe.a)(e),[{id:i,parentId:t.id,fieldName:n,props:{},styleProps:{}}])}))}},children:c&&h?Object(i.jsxs)("div",{className:B()(Le.a.active),style:{top:h.top,left:h.left,width:h.width,height:h.height},children:[Object(i.jsx)("span",{className:Le.a.tip,children:h.title}),Object(i.jsx)("span",{className:Le.a.edit,children:"root"===h.id?Object(i.jsx)(de.a,{rotate:-90,className:Le.a["opt-btn"],onClick:function(e){e.stopPropagation(),y.toFirstChild()}}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(de.a,{rotate:90,className:Le.a["opt-btn"],onClick:function(e){e.stopPropagation(),y.toSuper()}}),Object(i.jsx)(de.a,{rotate:-90,className:Le.a["opt-btn"],onClick:function(e){e.stopPropagation(),y.toFirstChild()}}),Object(i.jsx)(pe.a,{className:Le.a["opt-btn"],onClick:function(e){e.stopPropagation(),y.up()}}),Object(i.jsx)(fe.a,{className:Le.a["opt-btn"],onClick:function(e){e.stopPropagation(),y.down()}}),Object(i.jsx)(be.a,{className:Le.a["opt-btn"],onClick:function(e){e.stopPropagation(),y.del()}})]})})]}):null}):null]})})},Be=function(){var e=f(),t=e.fieldList,n=e.setFieldList,l=e.setActiveId,r=Object(a.useState)(!0),s=Object(o.a)(r,2),c=s[0],u=s[1];return Object(a.useEffect)((function(){n([{id:"root",fieldName:"Form",props:{onSubmit:function(e){console.log(e)}},styleProps:{}}])}),[n]),Object(i.jsxs)("div",{className:Le.a.con,children:[Object(i.jsx)("div",{className:Le.a.header,children:Object(i.jsxs)(v.b,{children:[Object(i.jsx)("span",{children:"\u9884\u89c8\u6a21\u5f0f:"}),Object(i.jsx)(Se.a,{checked:!c,onChange:function(e){l(null),u(!e)}})]})}),Object(i.jsx)(Ee,{open:c,children:Object(i.jsx)(U,{fieldList:t,className:Le.a.form})})]})},Ae=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)(null),s=Object(o.a)(r,2),c=s[0],u=s[1];return Object(i.jsx)(p,{value:{activeId:c,setActiveId:u,fieldList:n,setFieldList:l},children:Object(i.jsx)(h,{left:Object(i.jsx)(te,{}),right:Object(i.jsx)(we,{}),children:Object(i.jsx)(Be,{})})})},Me=(n(503),function(){return Object(i.jsx)(Ae,{})}),ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,515)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,l=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),l(e),r(e)}))};r.a.render(Object(i.jsx)(Me,{}),document.getElementById("root")),ze()}},[[504,1,2]]]);
//# sourceMappingURL=main.a26fb5d4.chunk.js.map